<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Albert Y. Kim" />


<title>STAT/MATH 495: Advanced Data Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/FileSaver.min.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<script src="site_libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.7.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotlyjs-1.27.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotlyjs-1.27.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("index.Rmd");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">STAT495</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://github.com/2017-09-Amherst-STAT495">GitHub Org</a>
</li>
<li>
  <a href="quickstart.html">Quickstart</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="https://github.com/rudeboybert/STAT495">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">STAT/MATH 495: Advanced Data Analysis</h1>
<h4 class="author"><em>Albert Y. Kim</em></h4>
<h4 class="date"><em>Last updated on 2017-10-09</em></h4>

</div>


<style>
h1{font-weight: 400;}
</style>
<hr />
<ul>
<li><strong>Source code</strong>: The R Markdown code to build this webpage is accesible by clicking the GitHub icon on the top-right of the nav bar.</li>
<li><strong>Lecture numbering</strong>: The lectures are numbered according to the following rough topic outline:
<ol style="list-style-type: decimal">
<li>Background
<ul>
<li><del>Intro to modeling</del></li>
<li><del>Simple case with univariate predictors to start: splines</del></li>
<li><del>Sampling/resampling, out-of-sample prediction, crossvalidation</del></li>
<li>Bias-variance tradeoff</li>
</ul></li>
<li><del>Continuous outcomes I</del>
<ul>
<li><del>LOESS smoother</del></li>
<li><del>Regression for prediction</del></li>
</ul></li>
<li>Categorical outcomes i.e.¬†classification
<ul>
<li>Logistic regression for prediction + ROC curves</li>
<li>k-Nearest Neighbors</li>
<li>Classification and regression trees (CART)</li>
</ul></li>
<li>Continuous outcome II
<ul>
<li>Regularization/shrinkage methods: Ridge regression and LASSO</li>
</ul></li>
<li>Other methods
<ul>
<li>Boosting and bagging</li>
<li>Random forests</li>
<li>Neural nets</li>
</ul></li>
<li>Unsupervised learning (time permitting)
<ul>
<li>Principal components analysis</li>
<li>k-Means Clustering</li>
</ul></li>
</ol></li>
</ul>
<!--
# 3.1 Categorical outcomes

## Thu 12/12

Announcements:


http://r-pkgs.had.co.nz/style.html
http://adv-r.had.co.nz/Style.html 
http://style.tidyverse.org/


## Chalk talk

3.1





***





-->
<hr />
<div id="more-bias-variance-trade-off" class="section level1">
<h1>2.7 More bias-variance trade-off</h1>
<div id="wed-1011-monday-schedule" class="section level2">
<h2>Wed 10/11 (Monday schedule)</h2>
<ul>
<li>At 9am, <a href="#PS05">PS05</a> sychronized pull requests by team leaders.</li>
<li>Quiz on <a href="http://scott.fortmann-roe.com/docs/BiasVariance.html">bias-variance tradeoff</a> reading posted in Lec 2.6.</li>
<li>Problem set 05 (randomly chosen) <a href="#PS05_presentations">group presentations</a>.</li>
<li>Recall because of odd schedule this week, feedback will be delivered by Thursday 10/12 9am. Your group can (optionally) resubmit your work by Friday 10/13 at 5pm.</li>
</ul>
</div>
<div id="chalk-talk" class="section level2">
<h2>Chalk talk</h2>
<p>2.7 Bias-variance trade-off handouts: <!--
* [PDF](static/generate_splines_bias_variance_handout/plots.pdf)
* [Source code](static/generate_splines_bias_variance_handout/generate_splines_bias_variance_handout.R)
--></p>
<hr />
</div>
</div>
<div id="PS06" class="section level1">
<h1>Problem set 6</h1>
<div id="information" class="section level2">
<h2>Information</h2>
<p>Important dates/times:</p>
<ul>
<li>Wed 10/11: Assigned.</li>
<li>Tue 10/17 8:30am: Due via synchronized pull request. No presentations for PS06.</li>
<li>Wed 10/18 9am: Feedback delivered by Andrew.</li>
<li>Thu 10/19 8:30am: (Optional) revisions due.</li>
</ul>
<p>You will show</p>
<ul>
<li>Teams: Individual</li>
<li>Presentations: None</li>
<li>Deliverables: One ready to submit <em>pull request</em> to the <a href="https://github.com/2017-09-Amherst-STAT495/PS06">PS06 repo</a>. At the very least, the following files should be modified/added:
<ol style="list-style-type: decimal">
<li><code>PS06.Rmd</code>: Source code</li>
<li><code>PS06.html</code>: The output of <code>PS06.Rmd</code>.</li>
<li><code>README.md</code>: Change <code>rudeboybert</code> in the URL to your GitHub ID so that both Andrew and I can open your <code>PS06.html</code> in a browser. Test this URL out!</li>
</ol></li>
<li>Tips:</li>
</ul>
</div>
<div id="example-solutions" class="section level2">
<h2>Example solutions</h2>
<hr />
</div>
</div>
<div id="PS05" class="section level1">
<h1>Problem set 5</h1>
<div id="information-1" class="section level2">
<h2>Information</h2>
<p><em>Assigned on Tue 10/3, due on Wed 10/11 (Monday schedule) 9am at which point there will be synchronized pull requests.</em></p>
<p><a href="https://www.kaggle.com/c/bike-sharing-demand"> <img border="0" alt="bike" src="images/bike.png" width="600"> </a></p>
<p>You will enter the <a href="https://www.kaggle.com/c/bike-sharing-demand">Bike Sharing Demand</a> Kaggle competition and fit a linear regression model to predict the number of rentals per hour, however <em>using only 3 predictor variables</em>. Fork a copy of the <a href="https://github.com/2017-09-Amherst-STAT495/PS05">PS05 repo</a> in the course GitHub Organization and then clone it in whatever version of RStudio you like. The focus of this exercise is to argue to decision makers why your 3 chosen variables provide the most ‚Äúbang for your buck‚Äù in predicting bikeshare demand.</p>
<ul>
<li>Teams: 2-3 people at your choosing. Once you‚Äôve selected your group designate one person as <strong>team leader</strong> <em>who has not previously been a team leader</em>, who will:
<ul>
<li>Create a Slack DM that includes Albert, Andrew Kim (TA), and all team members. So far:
<ul>
<li>Team A: <strong>Sarah T</strong>, Jonathan, Timothy</li>
<li>Team B: <strong>Christien</strong>, Harrison</li>
<li>Team C: <strong>Brendan</strong>, Leonard, Vickie</li>
<li>Team D: <strong>Jenn</strong>, Pei, Anthony</li>
</ul></li>
<li>Submit a single pull request on behalf of the group.</li>
<li>Submit a single submission to Kaggle on behalf of the group.</li>
</ul></li>
<li>Deliverables: One ready to submit <em>pull request</em> to the <a href="https://github.com/2017-09-Amherst-STAT495/PS05">PS05 repo</a> (recall the GitHub <a href="https://github.com/2017-09-Amherst-STAT495/README#problem-set-submission-process">submission process</a>). At the very least, the following files should be modified/added:
<ol style="list-style-type: decimal">
<li><code>PS05.Rmd</code>: This should
<ul>
<li>Be well-commented and completely reproducible.</li>
<li>Involve an <em>exploratory data analysis</em> arguing why you chose the three variables you did.</li>
</ul></li>
<li><code>PS05.html</code>: The output of <code>PS05.Rmd</code>. This will be the presentation file for a randomly chosen set of groups on Wed 10/11.</li>
<li><code>README.md</code>: Change <code>rudeboybert</code> in the URL to the GitHub ID of the team leader so that you can open your team‚Äôs version of <code>PS05.html</code> in a browser on Tuesday morning.</li>
<li><code>submission.csv</code></li>
<li><code>screen_shot.png</code> or <code>screen_shot.jpg</code>: A screenshot of your Kaggle ranking.</li>
</ol></li>
<li>Feedback will be delivered by Thursday 10/12 9am. Your group can resubmit your work by Friday 10/13 at 5pm.</li>
<li>Tips:
<ul>
<li>Think about the projection onto the sheet exercise. What variables provide the most ‚Äúbang for your buck‚Äù for understanding what‚Äôs behind the sheet, in this case, the mechanism that determines bikeshare demand.</li>
<li>Again, do not worry about your score. This problem set is more about process than product.</li>
<li>Your decision process for determining which 3 to use can be based exclusively on your EDA. However, if you are looking for something ‚Äúless unsystematic‚Äù, you can use the approaches in the ISLR readings for Chapter 6 listed above; this kind of approach is strictly optional.</li>
</ul></li>
</ul>
</div>
<div id="PS05_presentations" class="section level2">
<h2>Presentations</h2>
</div>
<div id="example-solutions-1" class="section level2">
<h2>Example solutions</h2>
<hr />
</div>
</div>
<div id="bias-variance-trade-off" class="section level1">
<h1>2.6 Bias-variance trade-off</h1>
<div id="tue-103" class="section level2">
<h2>Tue 10/3</h2>
<p>Announcements:</p>
<ul>
<li>Test out <a href="https://support.rstudio.com/hc/en-us/articles/211659737-Sharing-Projects-in-RStudio-Server-Pro">RStudio Shared Projects</a>. Executive summary: it‚Äôs not quite using R in ‚ÄúGoogle Docs‚Äù, but rather ‚ÄúGoogle Doc‚Äù-like collaborative editing functionality in RStudio.</li>
<li><em>Note on model selection</em>: Read ISLR Chapters 6 thru to the beginning of 6.2 (book pages 203-214, PDF pages 217-228) for a discussion on ‚Äúmodel selection‚Äù: how to select which predictors to use in a final regression model.</li>
<li>Quiz on Wed 10/11 (Monday schedule) after PS05 submission, worth one tenth of participation grade = 1% of final grade. Read the following explanation of the <a href="http://scott.fortmann-roe.com/docs/BiasVariance.html">bias-variance tradeoff</a> and be prepared to answer questions on it.</li>
</ul>
</div>
<div id="chalk-talk-1" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>2.6 Finish PS03 discussion: How to pick optimal degrees of freedom <span class="math inline">\(df^*\)</span></li>
</ul>
</div>
<div id="back-to-splines" class="section level2">
<h2>Back to splines</h2>
<p>Let‚Äôs look at:</p>
<ul>
<li>Three of the splines models from <a href="#texas">Lecture 1.6</a>, however for only 100 randomly sampled points <span class="math inline">\(y=f(x)+\epsilon\)</span> to make the plots less dense</li>
<li>Plus an extreme case of ‚Äúperfect‚Äù fitting</li>
<li>There is no new sample of points being collected nor crossvalidation going on here; just take the points and fit a model.</li>
</ul>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="768" /></p>
</div>
<div id="chalk-talk-2" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>2.6 Bias-Variance Trade-Off</li>
</ul>
<!--

* Show splines example with perfect fit
* High bias, low variability
* Low bias, high variability

-->
<hr />
</div>
</div>
<div id="feedback-on-ps03-midterm-i-review" class="section level1">
<h1>2.5 Feedback on PS03 + Midterm I Review</h1>
<div id="mon-102" class="section level2">
<h2>Mon 10/2</h2>
<p>Announcements:</p>
<ul>
<li>Via <a href="https://education.github.com/discount_requests/2106466/personal_details">GitHub Education</a> get a number of free private repositories and other benefits.</li>
</ul>
</div>
<div id="chalk-talk-3" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>2.5 Midterm I review</li>
<li>2.5 <a href="#PS03">Problem set 3</a> example solutions</li>
</ul>
<hr />
</div>
</div>
<div id="feedback-on-ps02" class="section level1">
<h1>2.4 Feedback on PS02</h1>
<div id="thu-926" class="section level2">
<h2>Thu 9/26</h2>
<p>Announcements:</p>
<ul>
<li>Note new ‚ÄúQuickstart‚Äù tab in nav bar. For every model we see it will contain input/output/code info for:
<ul>
<li>Fitting model</li>
<li>Making predictions</li>
</ul></li>
<li>Comps and final project information
<ul>
<li>Comps information will be mailed out Oct 10th or 11th.</li>
<li>Prof.¬†Amy Wagaman will be coming to class on Tue 10/17 to answer any questions about comps.</li>
<li>Final project information will be finalized around these dates.</li>
</ul></li>
<li>Information session for statistics and biostatistics grqduate programs
<ul>
<li>Where: Merrill 300A.</li>
<li>When: Friday, October 6 12:00 pm. A light lunch will be served.</li>
<li>More information <a href="static/StatsGradSchoolInfoOct2017.pdf">here</a>.</li>
</ul></li>
<li>Plotly example</li>
</ul>
<pre class="r"><code>library(tidyverse)
library(plotly)
library(nycflights13)
flights_sample &lt;- flights %&gt;% 
  sample_n(100)
delays_plot &lt;- ggplot(flights_sample, aes(x=dep_delay, y=arr_delay)) +
  geom_point()
# Hover your mouse over the resulting plot
ggplotly(delays_plot)</code></pre>
<div id="b7b914414820" style="width:504px;height:360px;" class="plotly html-widget"></div>
<script type="application/json" data-for="b7b914414820">{"x":{"data":[{"x":[1,0,-8,-5,25,-4,null,1,-4,-7,15,1,2,3,121,14,77,5,-5,-2,-4,-3,11,39,-5,57,-4,1,226,1,-6,null,-5,-5,57,19,-1,-6,0,33,-7,-5,20,-3,5,37,-1,94,2,-5,3,40,-4,-5,152,0,52,-6,-9,19,-5,10,26,-5,-7,129,31,-5,-4,-9,50,152,43,-7,8,63,39,94,-3,-7,9,-1,8,-4,46,1,5,-1,16,0,-7,-1,42,1,-1,-2,2,-4,-1,-4],"y":[-13,-4,-10,-5,8,7,null,-10,-23,-23,-14,-4,17,-4,103,17,62,4,-30,-38,-10,-9,-3,55,14,87,-2,-11,266,-20,3,null,-14,-18,60,18,-6,-24,-7,24,38,0,-5,-11,4,43,-34,51,-18,-27,10,11,-1,-10,166,-12,24,2,-44,1,-48,17,27,2,5,141,31,-11,-32,5,26,128,33,4,-24,65,90,86,3,-19,-4,-21,24,-31,42,97,-9,-23,13,-20,-10,39,12,-1,-22,-14,-9,0,30,-11],"text":["dep_delay:   1<br />arr_delay: -13","dep_delay:   0<br />arr_delay:  -4","dep_delay:  -8<br />arr_delay: -10","dep_delay:  -5<br />arr_delay:  -5","dep_delay:  25<br />arr_delay:   8","dep_delay:  -4<br />arr_delay:   7","dep_delay:  NA<br />arr_delay:  NA","dep_delay:   1<br />arr_delay: -10","dep_delay:  -4<br />arr_delay: -23","dep_delay:  -7<br />arr_delay: -23","dep_delay:  15<br />arr_delay: -14","dep_delay:   1<br />arr_delay:  -4","dep_delay:   2<br />arr_delay:  17","dep_delay:   3<br />arr_delay:  -4","dep_delay: 121<br />arr_delay: 103","dep_delay:  14<br />arr_delay:  17","dep_delay:  77<br />arr_delay:  62","dep_delay:   5<br />arr_delay:   4","dep_delay:  -5<br />arr_delay: -30","dep_delay:  -2<br />arr_delay: -38","dep_delay:  -4<br />arr_delay: -10","dep_delay:  -3<br />arr_delay:  -9","dep_delay:  11<br />arr_delay:  -3","dep_delay:  39<br />arr_delay:  55","dep_delay:  -5<br />arr_delay:  14","dep_delay:  57<br />arr_delay:  87","dep_delay:  -4<br />arr_delay:  -2","dep_delay:   1<br />arr_delay: -11","dep_delay: 226<br />arr_delay: 266","dep_delay:   1<br />arr_delay: -20","dep_delay:  -6<br />arr_delay:   3","dep_delay:  NA<br />arr_delay:  NA","dep_delay:  -5<br />arr_delay: -14","dep_delay:  -5<br />arr_delay: -18","dep_delay:  57<br />arr_delay:  60","dep_delay:  19<br />arr_delay:  18","dep_delay:  -1<br />arr_delay:  -6","dep_delay:  -6<br />arr_delay: -24","dep_delay:   0<br />arr_delay:  -7","dep_delay:  33<br />arr_delay:  24","dep_delay:  -7<br />arr_delay:  38","dep_delay:  -5<br />arr_delay:   0","dep_delay:  20<br />arr_delay:  -5","dep_delay:  -3<br />arr_delay: -11","dep_delay:   5<br />arr_delay:   4","dep_delay:  37<br />arr_delay:  43","dep_delay:  -1<br />arr_delay: -34","dep_delay:  94<br />arr_delay:  51","dep_delay:   2<br />arr_delay: -18","dep_delay:  -5<br />arr_delay: -27","dep_delay:   3<br />arr_delay:  10","dep_delay:  40<br />arr_delay:  11","dep_delay:  -4<br />arr_delay:  -1","dep_delay:  -5<br />arr_delay: -10","dep_delay: 152<br />arr_delay: 166","dep_delay:   0<br />arr_delay: -12","dep_delay:  52<br />arr_delay:  24","dep_delay:  -6<br />arr_delay:   2","dep_delay:  -9<br />arr_delay: -44","dep_delay:  19<br />arr_delay:   1","dep_delay:  -5<br />arr_delay: -48","dep_delay:  10<br />arr_delay:  17","dep_delay:  26<br />arr_delay:  27","dep_delay:  -5<br />arr_delay:   2","dep_delay:  -7<br />arr_delay:   5","dep_delay: 129<br />arr_delay: 141","dep_delay:  31<br />arr_delay:  31","dep_delay:  -5<br />arr_delay: -11","dep_delay:  -4<br />arr_delay: -32","dep_delay:  -9<br />arr_delay:   5","dep_delay:  50<br />arr_delay:  26","dep_delay: 152<br />arr_delay: 128","dep_delay:  43<br />arr_delay:  33","dep_delay:  -7<br />arr_delay:   4","dep_delay:   8<br />arr_delay: -24","dep_delay:  63<br />arr_delay:  65","dep_delay:  39<br />arr_delay:  90","dep_delay:  94<br />arr_delay:  86","dep_delay:  -3<br />arr_delay:   3","dep_delay:  -7<br />arr_delay: -19","dep_delay:   9<br />arr_delay:  -4","dep_delay:  -1<br />arr_delay: -21","dep_delay:   8<br />arr_delay:  24","dep_delay:  -4<br />arr_delay: -31","dep_delay:  46<br />arr_delay:  42","dep_delay:   1<br />arr_delay:  97","dep_delay:   5<br />arr_delay:  -9","dep_delay:  -1<br />arr_delay: -23","dep_delay:  16<br />arr_delay:  13","dep_delay:   0<br />arr_delay: -20","dep_delay:  -7<br />arr_delay: -10","dep_delay:  -1<br />arr_delay:  39","dep_delay:  42<br />arr_delay:  12","dep_delay:   1<br />arr_delay:  -1","dep_delay:  -1<br />arr_delay: -22","dep_delay:  -2<br />arr_delay: -14","dep_delay:   2<br />arr_delay:  -9","dep_delay:  -4<br />arr_delay:   0","dep_delay:  -1<br />arr_delay:  30","dep_delay:  -4<br />arr_delay: -11"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-20.75,237.75],"ticktext":["0","50","100","150","200"],"tickvals":[0,50,100,150,200],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"dep_delay","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-63.7,281.7],"ticktext":["0","100","200"],"tickvals":[0,100,200],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"arr_delay","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","width":504,"height":360},"source":"A","attrs":{"b7b946a17daa":{"x":{},"y":{},"type":"ggplotly"}},"cur_data":"b7b946a17daa","visdat":{"b7b946a17daa":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div id="chalk-talk-4" class="section level2">
<h2>Chalk talk</h2>
<p><a href="#PS02">Problem set 2</a> feedback</p>
</div>
<div id="problem-set-3" class="section level2">
<h2>Problem set 3</h2>
<p>Look at the image for <a href="#PS03">Problem set 3</a>, and then answer these two questions with your seatmates.</p>
<pre class="r"><code>library(tidyverse)

mtcars &lt;- mtcars %&gt;% 
  # A tibble is very similar to a data frame, but when you view its contents
  # in the console, it only prints out about 30 rows
  as_tibble() %&gt;% 
  mutate(ID = 1:n()) %&gt;% 
  select(ID, mpg, hp)

# Number of folds
k &lt;- 5

# Q1: What&#39;s the difference between these two in terms of crossvalidation?
# Hint: table() function to get frequency table
fold_scheme_1 &lt;- sample(1:k, size=nrow(mtcars), replace = TRUE)
fold_scheme_2 &lt;- rep(1:k, len=nrow(mtcars))

# A1:
# -fold_scheme_2 has roughly equal numbers of observations in each fold
# -fold_scheme_1 only has equal numbers of observations in each fold in 
# expectation
table(fold_scheme_1); table(fold_scheme_2)

mtcars %&gt;% 
  # Q2: Why do we sample_frac 100% first?
  sample_frac(1) %&gt;% 
  mutate(fold = rep(1:k, len=n()))

# A1: This effectively randomizes the fold assignment by first shuffling the
# rows. Say we didn&#39;t do this and mtcars had an inherent ordering to it?
# Then our fold assignment would not be at random!</code></pre>
<hr />
</div>
</div>
<div id="PS04" class="section level1">
<h1>Problem set 4</h1>
<div id="information-2" class="section level2">
<h2>Information</h2>
<p><em>Assigned on Tue 9/26, due on Tue 10/3 9am at which point there will be synchronized pull requests.</em></p>
<p>You will fit your first model with multiple predictors!</p>
<ul>
<li>Details:
<ul>
<li>Teams: Individual</li>
<li>Presentation: Done</li>
<li>Revision round: None</li>
</ul></li>
<li>Deliverables: One ready to submit <em>pull request</em> to the <a href="https://github.com/2017-09-Amherst-STAT495/PS04">PS04 repo</a> (recall the GitHub <a href="https://github.com/2017-09-Amherst-STAT495/README#problem-set-submission-process">submission process</a>). At the very least, the following files should be modified/added:
<ol style="list-style-type: decimal">
<li><code>PS04.Rmd</code>: Your work</li>
<li><code>PS04.html</code>: The output of <code>PS04.Rmd</code>.</li>
<li><code>README.md</code>: Change <code>rudeboybert</code> in the URL to the GitHub ID so that you can open <code>PS04.html</code> in a browser.</li>
</ol></li>
</ul>
</div>
<div id="feedback" class="section level2">
<h2>Feedback</h2>
</div>
<div id="example-solutions-2" class="section level2">
<h2>Example solutions</h2>
<hr />
</div>
</div>
<div id="regression-for-prediction" class="section level1">
<h1>2.3 Regression for prediction</h1>
<div id="tue-926" class="section level2">
<h2>Tue 9/26</h2>
<p>Announcements:</p>
<ul>
<li>Since there are no presentations/discussions today for PS03, no revisions due on Thursday.</li>
<li>Pull request is now due at 5pm today.</li>
<li>Extra office hours today from 1:30-3pm in Seeley Mudd 208.</li>
<li>Install <code>plotly</code> package</li>
</ul>
</div>
<div id="chalk-talk-5" class="section level2">
<h2>Chalk talk</h2>
<p>2.3 Regression for prediction</p>
</div>
<div id="regression-quickstart-guide" class="section level2">
<h2>Regression quickstart guide</h2>
<p>Moved to <a href="quickstart.html#regression_via_lm">Quickstart</a> tab above.</p>
</div>
<div id="eda-of-problem-set-4-data-shiny-app" class="section level2">
<h2>EDA of problem set 4 data + Shiny app</h2>
<p>Let‚Äôs do an exploratory data analysis of the data for problem set 4. For <span class="math inline">\(i=1, \ldots, 400\)</span> individuals, we are interested in their credit card balance. Alas, no sampling information is provided, so we can‚Äôt make any statements on the generalizability of this analysis. Recall our model formulation: <span class="math inline">\(y_i = f(\vec{x}_i) + \epsilon_i\)</span>:</p>
<ul>
<li><span class="math inline">\(y_i\)</span>: Credit card balance</li>
<li><span class="math inline">\(x_{1,i}\)</span>: Income in $10K</li>
<li><span class="math inline">\(x_{2,i}\)</span>: Credit limit in $</li>
<li><span class="math inline">\(x_{3,i}\)</span>: Credit rating</li>
<li><span class="math inline">\(x_{4,i}\)</span>: Age</li>
<li><span class="math inline">\(x_{5,i}\)</span>: Number of credit cards</li>
<li><span class="math inline">\(x_{6,i}\)</span>: Years of education</li>
</ul>
<pre class="r"><code>library(tidyverse)
credit &lt;- read_csv(&quot;http://www-bcf.usc.edu/~gareth/ISL/Credit.csv&quot;) %&gt;%
  select(-X1) %&gt;%
  mutate(ID = 1:n()) %&gt;% 
  select(ID, Balance, Income, Limit, Rating, Age, Cards, Education)</code></pre>
<p>Read the contents of this <a href="https://beta.rstudioconnect.com/connect/#/apps/2692/access">Shiny App</a> up to just before ‚ÄúShrinking <span class="math inline">\(\beta\)</span> Coefficients via LASSO‚Äù (which we will cover later).</p>
<hr />
</div>
</div>
<div id="a-step-back-stitchfix" class="section level1">
<h1>2.2 A step back: StitchFix</h1>
<div id="mon-95" class="section level2">
<h2>Mon 9/5</h2>
<p>Announcements:</p>
<ul>
<li>Explain GitHub collaborator vs GitHub pull request</li>
<li>Problem set 02 feedback and example solutions given tomorrow.</li>
<li>Today: 2.2 <del>Regression for prediction</del> A step back</li>
</ul>
</div>
<div id="chalk-talk-6" class="section level2">
<h2>Chalk talk</h2>
<p>2.2 A step back. Recall our ‚Äúprojection onto the sheet‚Äù exercise</p>
</div>
<div id="stitchfix" class="section level2">
<h2>StitchFix</h2>
<ul>
<li>Disclosure: I‚Äôm not being compensated by StitchFix.</li>
<li>Filed for an IPO (to start trading on the stock market) in <a href="https://www.recode.net/2017/7/29/16059140/stitch-fix-delivery-clothing-ipo-filing-ceo-katrina-lake">July 2017</a>.</li>
<li>Feature on Good Morning America; watch it thru the lens of
<ul>
<li><span class="math inline">\(y=f(\vec{x})+\epsilon\)</span></li>
<li>What machine learning/data science tries to do</li>
</ul></li>
</ul>
<p><a href="http://abcnews.go.com/Lifestyle/clothing-box-services-stitch-fix-wantable-dia/story?id=49794347"> <img border="0" alt="GMA" src="images/GMA.png" width="600"> </a></p>
</div>
<div id="todays-exercise" class="section level2">
<h2>Today‚Äôs exercise</h2>
<ol style="list-style-type: decimal">
<li>Go to Stitch Fix and individually complete the ‚Äústyle quiz‚Äù for your gender; I just like their approach (their <a href="http://multithreaded.stitchfix.com/blog/">blog</a> for example).</li>
<li>Log out and using a different email address complete the ‚Äústyle quiz‚Äù for the <em>opposite</em> gender and note the major differences.</li>
<li>Shout out to Jeff L for <a href="https://10minutemail.com/" class="uri">https://10minutemail.com/</a></li>
<li>Communicate with your seatmates every step of the way; I‚Äôll poll some groups for their observations.</li>
<li>Again, view all this thru the lens of:
<ul>
<li><span class="math inline">\(y=f(\vec{x})+\epsilon\)</span></li>
<li>What machine learning/data science tries to do</li>
</ul></li>
</ol>
</div>
<div id="important-questions" class="section level2">
<h2>Important questions</h2>
<ul>
<li>The <strong>ethics</strong> of StitchFix and predictive machine learning in general: What are we predicting, but also what are we <em>reinforcing</em>?</li>
<li>Later in course: <a href="https://weaponsofmathdestructionbook.com/">Weapons of Math Destruction</a>.</li>
</ul>
<p><img border="0" src="https://images-na.ssl-images-amazon.com/images/I/51eUw-v0X%2BL._SX329_BO1,204,203,200_.jpg" width="250"></p>
<hr />
</div>
</div>
<div id="local-regression-loess" class="section level1">
<h1>2.1 Local regression (LOESS)</h1>
<div id="thu-921" class="section level2">
<h2>Thu 9/21</h2>
<p>Before class:</p>
<ul>
<li>Install the following packages:
<ul>
<li><a href="https://rudeboybert.github.io/fivethirtyeight/"><code>fivethirtyeight</code></a>: Data from the articles on FiveThirtyEight</li>
<li><a href="https://github.com/hadley/nycflights13"><code>nycflights13</code></a>: Info for all 336K domestic flights that left an NYC airport in 2013 (JFK, EWR, or LGA)</li>
</ul></li>
<li>AC students: Start networking! Have your name and LinkedIn profile appear on the <a href="https://www.amherst.edu/academiclife/departments/mathematics-statistics/alumni/alumni-links">Amherst website</a> by filling out this <a href="https://docs.google.com/forms/d/1LW1E50wXVGW3-I0949pvRnqrm7M8E5nfADQWlx1YCPc/edit">Google Form</a>. Recruiters pay üíµüí∂üí≤ to LinkedIn to be able to do targeted üîçs of potential hires!</li>
</ul>
<p>Announcements:</p>
<ul>
<li>Amherst College Department of Mathematics and Statistics Amherst College Statistics Colloquia tonight.
<ul>
<li>Title: Lessons for official statistics production around the world from the experience of Greece</li>
<li>Speaker: Andreas Georgiou ‚Äò83, Visiting Lecturer in Economics Amherst College (<a href="https://www.amherst.edu/academiclife/departments/mathematics-statistics/news">speaker background</a>)</li>
<li>When/where: Thursday, September 21, 2017 7:00 pm in Seeley Mudd 206.</li>
<li>Abstract: The seminar will address what lessons can be gleaned from the experience with official statistics production in Greece, both in the period up to the onset of the debt crisis and since then. The seminar will discuss lessons about the appropriate institutional setting, legal framework, statistical culture and statistical practices.</li>
</ul></li>
<li>Updated/clarified syllabus to reflect:
<ul>
<li>Typical problem set timeline under problem sets</li>
<li>Expectations on readings under materials/readings</li>
</ul></li>
<li>Add to <span class="math inline">\(k=2\)</span> CV pseudocode chalk talk from Lec 1.7: using results of CV to then make appropriate predictions.</li>
<li>Starting topic 2 today: Continuous outcomes part I. We‚Äôll come back to the final subtopic of topic 1, the bias-variance tradeoff, later.</li>
</ul>
</div>
<div id="digression-chalk-talk" class="section level2">
<h2>Digression: Chalk talk</h2>
<p>2.1: <span class="math inline">\(\log()\)</span> and <span class="math inline">\(\log_{10}()\)</span> transformations.</p>
</div>
<div id="digression-the-importance-of-log-transformations" class="section level2">
<h2>Digression: The importance of log-transformations</h2>
<p>Let‚Äôs consider a set of post-2000 movies from the <code>bechdel</code> data set (type <code>?bechdel</code> for details) and plot:</p>
<ul>
<li>x-axis: movie budget (in 2013-inflation adjusted US dollars)</li>
<li>y-axis: domestic gross (in 2013-inflation adjusted US dollars)</li>
</ul>
<pre class="r"><code>library(tidyverse)
library(fivethirtyeight)
bechdel_2000 &lt;- bechdel %&gt;% 
  filter(year &gt;= 2000)
ggplot(bechdel_2000, aes(x=budget_2013, y=domgross_2013)) +
  geom_point() +
  labs(x=&quot;Budget&quot;, y=&quot;Domestic Gross&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="614.4" /></p>
<p>We see there is a right-skew to both the x and y-values. This is because we are comparing big budget Hollywood blockbusters with (likely) lower budget independent films. Hence, it‚Äôs really hard to see what‚Äôs going on at the lower-end of the budget scale. Let‚Äôs unskew both variables and compare not <em>absolute</em> differences, but rather, <em>relative</em> differences i.e.¬†differences in ‚Äúorder of magnitude‚Äù using a <code>log10()</code> transformation:</p>
<pre class="r"><code>ggplot(bechdel_2000, aes(x=log10(budget_2013), y=log10(domgross_2013))) +
  geom_point() +
  labs(x=&quot;log10(Budget)&quot;, y=&quot;log10(Domestic Gross)&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="614.4" /></p>
<p>We can see a little better what‚Äôs going on at the lower end of the budget scale. However the values on the axes require a little thinking to process. For example at <span class="math inline">\(x=7\)</span>, this corresponds to movies with a budget of <span class="math inline">\(10^7 = 10,000,000\)</span> dollars. So instead, let‚Äôs <em>rescale</em> both axes so that they display the data in their original units.</p>
<pre class="r"><code>ggplot(bechdel_2000, aes(x=budget_2013, y=domgross_2013)) +
  geom_point() +
  scale_x_log10() +
  scale_y_log10() +
  labs(x=&quot;Budget (log10-scale)&quot;, y=&quot;Domestic Gross (log10-scale)&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="614.4" /></p>
<p>Note that</p>
<ul>
<li>The two plots are identical, but the values on the axes are different.</li>
<li>In the rescaled x and y axes plot, equivalent distances on each axes correspond to not equivalent absolute differences, but equivalent relative/multiplicative differences. So for example, the horizontal distance on the plot from Budget = <code>1e+05</code> = <span class="math inline">\(10^5\)</span> to Budget = <code>1e+06</code> = <span class="math inline">\(10^6\)</span> is equal to the horizontal distance on the plot from Budget = <code>1e+06</code> = <span class="math inline">\(10^6\)</span> to Budget = <code>1e+07</code> = <span class="math inline">\(10^7\)</span>.</li>
</ul>
</div>
<div id="local-regression-executive-summary-via-.gif" class="section level2">
<h2>Local regression: executive summary via <code>.gif</code></h2>
<p><img border="0" src="images/loess.gif" height="400"></p>
</div>
<div id="chalk-talk-7" class="section level2">
<h2>Chalk talk</h2>
<p>2.1 Local regression i.e.¬†LOESS AKA LOWESS</p>
<p>Corresponding book chapters</p>
<ul>
<li>ISLR: 7.6</li>
<li>CASI: 19.8</li>
</ul>
</div>
<div id="using-loess" class="section level2">
<h2>Using <code>loess()</code></h2>
<p>Let‚Äôs fit a LOESS smoother model to</p>
<ul>
<li>x: (top of the hour) temperature recorded for flight</li>
<li>y: departure delay for flight</li>
</ul>
<p>on 1000 randomly sampled flights whose (x,y) values aren‚Äôt missing. Commands:</p>
<ul>
<li>Fit a model: <code>loess(y~x, data)</code> (Note there is also a <code>lowess()</code> command, but AFAIK there is no convenient <code>predict()</code> function).</li>
<li>Predict based on a model: <code>predict(model_loess, newdata)</code></li>
</ul>
<pre class="r"><code># Install this package:
library(tidyverse)
library(nycflights13)
library(broom)

# Let&#39;s join flight and join it with weather data after setting the seed value
# for the random number generator to ensure we have &quot;replicable randomness&quot;
set.seed(76)
flights_sample &lt;- flights %&gt;% 
  left_join(weather, by=c(&quot;month&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;origin&quot;)) %&gt;%
  filter(!is.na(dep_delay) &amp; !is.na(temp)) %&gt;% 
  sample_n(1000) %&gt;% 
  select(temp, dep_delay) %&gt;% 
  mutate(ID = 1:n())

# Create disjoint training and test data sets of size 500 each:  
flights_sample_train &lt;- flights_sample %&gt;% 
  sample_n(500)
flights_sample_test &lt;- flights_sample %&gt;% 
  anti_join(flights_sample_train, by=&quot;ID&quot;)

# 1. Fit model
model_loess &lt;- loess(dep_delay ~ temp, data=flights_sample_train)

# The next two lines take the fitted model and output a data frame with the 
# original (x,y) values, but also
# * y_hat in the column .fitted.
# * y - y_hat = residual in the column .reside
# You can ignore the warnings about purrr
model_loess_df &lt;- model_loess %&gt;% 
  broom::augment()
View(model_loess_df)

# Plot
ggplot(model_loess_df, aes(x=temp)) +
  geom_point(aes(y=dep_delay)) +
  geom_line(aes(y=.fitted), col=&quot;red&quot;, size=1)

# 2. Pretend for a moment you don&#39;t know the true y = dep_delay, take the
# previously fitted model and make predictions on test set:
flights_sample_test &lt;- flights_sample_test %&gt;% 
  mutate(dep_delay_hat = predict(model_loess, newdata=flights_sample_test))

# Now let&#39;s stop pretending and compare our predictions (red points) to the
# truth (black points)
ggplot(flights_sample_test, aes(x=temp)) +
  geom_point(aes(y=dep_delay)) +
  geom_point(aes(y=dep_delay_hat), col=&quot;red&quot;, size=1)

# Now let&#39;s evaluate the RMSE
flights_sample_test %&gt;%
  summarise(MSE = mean((dep_delay - dep_delay_hat)^2)) %&gt;% 
  mutate(RMSE = sqrt(MSE))</code></pre>
</div>
<div id="geom_smooth-uses-loess-when-n-1000" class="section level2">
<h2><code>geom_smooth()</code> uses LOESS when n &lt; 1000</h2>
<p>Look at the help file <code>?ggplot2::stat_smooth</code> under <code>method</code>: default for n&lt;1000 is <code>loess</code>.</p>
<pre class="r"><code># When more than 1000 obs, geom_smooth uses another method
dim(flights_sample)
ggplot(flights_sample, aes(x=temp, y=dep_delay)) +
  geom_point() +
  geom_smooth(se=FALSE, col=&quot;red&quot;, size=1)

# When less than 1000 obs, geom_smooth uses LOESS
dim(flights_sample_train)
ggplot(flights_sample_train, aes(x=temp, y=dep_delay)) +
  geom_point() +
  geom_smooth(se=FALSE, col=&quot;red&quot;, size=1)

# How do I &quot;tune&quot; a LOESS smoother? Play around with the span value below:
ggplot(flights_sample_train, aes(x=temp, y=dep_delay)) +
  geom_point() +
  geom_smooth(se=FALSE, col=&quot;red&quot;, size=1, span=0.2)</code></pre>
<hr />
</div>
</div>
<div id="PS03" class="section level1">
<h1>Problem set 3</h1>
<div id="information-3" class="section level2">
<h2>Information</h2>
<p><em>Assigned on Thu 9/19, due on Tue 9/26 9am at which point there will be synchronized pull requests.</em></p>
<center>
<a href="http://tomaszkacmajor.pl/index.php/2016/05/01/svm-model-selection2/"> <img border="0" alt="Sberbank" src="http://tomaszkacmajor.pl/wp-content/uploads/2016/05/cross-validation.png" height="600"> </a>
</center>
<p>Baby‚Äôs first crossvalidation! You will implement from scratch a full crossvalidation and use it to find the splines model with the best out-of-sample predictive ability <em>in terms of the Root Mean Squared Error (RMSE)</em>. The data include the following variables:</p>
<ul>
<li><code>ID</code> unique identifier variable</li>
<li><code>x</code> univariate predictor of n=3000 equally spaced values between -10 and 90</li>
<li><code>y</code> outcome variable generated from <span class="math inline">\(y = f(x) + \epsilon\)</span> where
<ul>
<li><span class="math inline">\(\epsilon\)</span> is a random variable distributed with mean 0 and standard deviation <span class="math inline">\(\sigma\)</span></li>
<li>Both <span class="math inline">\(f\)</span> and <span class="math inline">\(\sigma\)</span> are only known by Albert! Not the same as the video in <a href="#intro_to_modeling">Lecture 1.3</a>.</li>
</ul></li>
</ul>
<p>Notes:</p>
<ul>
<li>Teams: Individual. I <em>highly</em> recommend you work in groups especially for the planning and eventually coding questions, but the ultimate code you submit should be your own.</li>
<li>Deliverables: One ready to submit <em>pull request</em> to the <a href="https://github.com/2017-09-Amherst-STAT495/PS03">PS03 repo</a> (recall the GitHub <a href="https://github.com/2017-09-Amherst-STAT495/README#problem-set-submission-process">submission process</a>). At the very least, the following files should be modified/added:
<ol style="list-style-type: decimal">
<li><code>PS03.Rmd</code>: Your work.</li>
<li><code>PS03.html</code>: The output of <code>PS03.Rmd</code>. No presentations for this problem set.</li>
<li><code>README.md</code>: Change <code>rudeboybert</code> in the URL to the GitHub ID so that you can open your version of <code>PS03.html</code> in a browser easily.</li>
</ol></li>
<li>Tips:
<ol style="list-style-type: decimal">
<li>We‚Äôre ramping up the coding in this assignment! Don‚Äôt spin your wheels!</li>
<li>Pseudocode
<ul>
<li>Don‚Äôt start coding right away! Make a plan of attack using <em>pseudocode</em> that is language independent:
<center>
<img border="0" alt="Sberbank" src="https://www.researchgate.net/profile/Arnab_Shaw/publication/269321422/figure/fig4/AS:392222613753858@1470524566188/Figure-5-Pseudo-code-for-ReliefF-feature-selector.png" width="500">
</center></li>
<li>You don‚Äôt want to conflate the <strong>what</strong> (the algorithm) and the <strong>how</strong> (the code) of the problem set. Lay out the algorithm on paper, blackboard, whiteboard, etc, first!</li>
<li>In exams, you won‚Äôt be asked to write code, but rather pseudocode.</li>
</ul></li>
</ol></li>
</ul>
</div>
<div id="example-solutions-3" class="section level2">
<h2>Example solutions</h2>
<ul>
<li><a href="http://rpubs.com/rudeboybert/STAT495_PS03_albert">HTML output</a></li>
<li><a href="https://github.com/2017-09-Amherst-STAT495/PS03/blob/master/PS03_albert.Rmd"><code>.Rmd</code> source code</a>. Click on ‚ÄúRaw‚Äù button and save to <code>.Rmd</code> in your <code>PS03</code> folder/RStudio project.</li>
</ul>
<hr />
</div>
</div>
<div id="crossvalidation" class="section level1">
<h1>1.7 Crossvalidation</h1>
<div id="tue-919" class="section level2">
<h2>Tue 9/19</h2>
<p>Announcements:</p>
<ul>
<li><strong>Tip of the day:</strong> Another reason I‚Äôm a big fan of Slack, quick videoconferencing with screensharing directly in Slack using appear.in. In a DM type <code>/appear NAME_OF_UNIQUE_CONFERENCE_ROOM</code>. Ex: <code>/appear purple_monkey_dishwasher</code>.</li>
<li>Problem set 02 presentations! Under <a href="#PS02">Problem set 2</a> section.</li>
</ul>
</div>
<div id="chalk-talk-8" class="section level2">
<h2>Chalk talk</h2>
<p>1.7 Crossvalidation</p>
<p>Corresponding book chapters</p>
<ul>
<li>ISLR: [5, 5.1.3] (Start of Chapter 5, through to the end of 5.1.3, stop just before 5.1.4)</li>
<li>CASI: [12, 12.2]</li>
</ul>
<hr />
</div>
</div>
<div id="texas" class="section level1">
<h1>1.6 Texas sharpshooter fallacy</h1>
<div id="mon-918" class="section level2">
<h2>Mon 9/18</h2>
<p>Announcements:</p>
<ul>
<li><strong>Tip of the day:</strong> Keyboard shortcut <code>%&gt;%</code> with command+shift+m on macOS and ctrl+shift+m on windows.</li>
<li>Philosophical fallacy of the day. <em>‚ÄúTexas Sharpshooter Fallacy‚Äù: When an argument is made and confirmed using the same set of information.</em> Watch first 50s of this video: <a href="https://www.youtube.com/embed/_tcBsryYd6s" class="uri">https://www.youtube.com/embed/_tcBsryYd6s</a></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_tcBsryYd6s" frameborder="0" allowfullscreen>
</iframe>
</div>
<div id="chalk-talk-9" class="section level2">
<h2>Chalk talk</h2>
<p>1.6 Texas sharpshooter fallacy scenarios</p>
<ul>
<li><ol style="list-style-type: upper-alpha">
<li>Shooting at a barn</li>
</ol></li>
<li><ol start="2" style="list-style-type: upper-alpha">
<li>Science</li>
</ol></li>
<li><ol start="3" style="list-style-type: upper-alpha">
<li>Machine learning in general</li>
</ol></li>
</ul>
</div>
<div id="scenario-d" class="section level2">
<h2>Scenario D)</h2>
<p>Let‚Äôs call the following example ‚ÄúScenario D) Splines‚Äù. Recall from our <a href="#intro_to_splines">Intro to Splines</a> lecture the different fitted models based on different degrees of freedom (i.e.¬†different numbers of knots).</p>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="scenario-d-score" class="section level2">
<h2>Scenario D): Score</h2>
<p>Let‚Äôs define a notion of ‚Äúscore‚Äù to evaluate how good the above fits are: <em>mean squared error (MSE)</em>. Image courtesy <a href="https://twitter.com/chrisalbon">Chris Albon‚Äôs</a> excellent <a href="https://twitter.com/search?q=%23machinelearningflashcards%20%40chrisalbon&amp;src=typd">Machine Learning Flashcards</a>.</p>
<p><img src="images/Mean_Squared_Error_print.png" alt="Drawing" style="width: 400px;"/></p>
</div>
<div id="chalk-talk-10" class="section level2">
<h2>Chalk talk</h2>
<p>1.6 Mean Squared Error</p>
</div>
<div id="scenario-d-1" class="section level2">
<h2>Scenario D)</h2>
<p>Here are the Root Mean Squared Errors for the plot above. <code>df=50</code> has lowest RMSE. Is <code>df=50</code> for out-of-sample prediction? What did the Texas Sharpshooter Fallacy say in the machine learning case?</p>
<table>
<thead>
<tr class="header">
<th align="right">df</th>
<th align="right">RMSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">2.935</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">1.874</td>
</tr>
<tr class="odd">
<td align="right">25</td>
<td align="right">1.834</td>
</tr>
<tr class="even">
<td align="right">50</td>
<td align="right">1.784</td>
</tr>
</tbody>
</table>
</div>
<div id="chalk-talk-11" class="section level2">
<h2>Chalk talk</h2>
<p>1.6 The ‚Äúrather‚Äù of Scenario D) (to avoid the Texas Sharpshooter Fallacy).</p>
<hr />
</div>
</div>
<div id="the-theory-of-splines-resampling" class="section level1">
<h1>1.5 The theory of splines + resampling</h1>
<div id="thu-914" class="section level2">
<h2>Thu 9/14</h2>
<p>Announcements:</p>
<ul>
<li>‚ÄúGah! I can‚Äôt tell who you are from your Slack names!‚Äù Please go to: ‚ÄúSTAT 495 Amherst‚Ä¶‚Äù on top left of Slack -&gt; ‚ÄúPreferences‚Äù -&gt; ‚ÄúMessages &amp; Media‚Äù -&gt; ‚ÄúNames‚Äù -&gt; Click the ‚ÄúFull &amp; display names‚Äù radio button.</li>
<li>Problem set 01 feedback given <a href="#PS01">below</a>.</li>
</ul>
</div>
<div id="splines" class="section level2">
<h2>Splines</h2>
<p>Splines are piecewise continuous polynomials with <a href="https://en.wikipedia.org/wiki/Smoothness">smoothness</a> constraints:</p>
<center>
<img src="images/splines.png" alt="Drawing" style="width: 500px;"/>
</center>
</div>
<div id="chalk-talk-12" class="section level2">
<h2>Chalk talk</h2>
<p>1.5 Splines</p>
</div>
<div id="how-are-splines-curves-fit" class="section level2">
<h2>How are splines curves fit?</h2>
<p>How to obtain the fitted <span class="math inline">\(\widehat{\beta}_0\)</span>, <span class="math inline">\(\widehat{\beta}_1\)</span>, <span class="math inline">\(\widehat{\beta}_2\)</span>, and <span class="math inline">\(\widehat{\beta}_3\)</span> necessary for all <span class="math inline">\(K+1\)</span> cubic polynomials <span class="math display">\[
\widehat{y}_i = \widehat{\beta}_0 + \widehat{\beta}_1 x_i + \widehat{\beta}_2 x_i^2 + \widehat{\beta}_3 x_i^3
\]</span></p>
<p>for each interval? A combination of calculus (derivatives) and linear algebra (solving a system of equations). See this <a target="_blank" class="page-link" href="static/splines_notes.pdf">PDF</a> if you‚Äôre curious.</p>
</div>
<div id="sampling-paradigm" class="section level2">
<h2>Sampling paradigm</h2>
<center>
<img src="images/target-population.jpg" alt="Drawing" style="width: 500px;"/>
</center>
</div>
<div id="chalk-talk-13" class="section level2">
<h2>Chalk talk</h2>
<p>1.5 Sampling</p>
</div>
<div id="resampling-paradigm" class="section level2">
<h2>Resampling paradigm</h2>
<center>
<img src="images/resample.jpg" alt="Drawing" style="width: 500px;"/>
</center>
<p><strong>Moral</strong>: You want the</p>
<ul>
<li>the process represented by the red dashed line/arrow (resampling) to mimic as much as possible</li>
<li>the process represented by the black dashed line/arrow (sampling)</li>
</ul>
<hr />
</div>
</div>
<div id="PS02" class="section level1">
<h1>Problem set 2</h1>
<div id="information-4" class="section level2">
<h2>Information</h2>
<p><em>Assigned on Thu 9/12, due on Tue 9/19 9am at which point there will be synchronized pull requests.</em></p>
<p><a href="https://www.kaggle.com/c/sberbank-russian-housing-market"> <img border="0" alt="Sberbank" src="images/sberbank.png" width="600"> </a></p>
<p>You will enter the <a href="https://www.kaggle.com/c/sberbank-russian-housing-market">Sberbank Russian Housing Market</a> Kaggle competition and fit a spline model to predict the outcome variable <code>price_doc</code>: the sale price of a piece of real estate. The data has been pre-downloaded and included in the <a href="https://github.com/2017-09-Amherst-STAT495/PS02">PS02 repo</a> in the course GitHub Organization.</p>
<ul>
<li>Teams: 2-3 people at your choosing. Once you‚Äôve selected your group designate one person as team leader, who will:
<ul>
<li>Create a Slack DM that includes Albert, Andrew Kim (TA), and all team members. So far:
<ul>
<li>Team A: Sara (no ‚Äúh‚Äù), Meredith, Brenna</li>
<li>Team B: Jeff, Luke, Andrew</li>
<li>Team C: Jonathan, Sarah (with ‚Äúh‚Äù), Timothy</li>
<li>Team D: Pei, Jenn, Anthony</li>
<li>Team E: Leonard, Vickie, Brendan</li>
<li>Team F: Abbas, Caleb, Kiryu</li>
<li>Team G: Harrison, Christien</li>
<li>Team H: Meron, Wayne, Tasheena</li>
</ul></li>
<li>Submit a single pull request on behalf of the group.</li>
<li>Submit a single submission to Kaggle on behalf of the group.</li>
</ul></li>
<li>Deliverables: One ready to submit <em>pull request</em> to the <a href="https://github.com/2017-09-Amherst-STAT495/PS02">PS02 repo</a> (recall the GitHub <a href="https://github.com/2017-09-Amherst-STAT495/README#problem-set-submission-process">submission process</a>). At the very least, the following files should be modified/added:
<ol style="list-style-type: decimal">
<li><code>PS02.Rmd</code>: This should
<ul>
<li>Be well-commented and completely reproducible.</li>
<li>Involve an <em>exploratory data analysis</em>.</li>
<li>Argue why you chose the model you did.</li>
</ul></li>
<li><code>PS02.html</code>: The output of <code>PS02.Rmd</code>. This will be the presentation file for a randomly chosen set of groups on Tue 9/19.</li>
<li><code>README.md</code>: Change <code>rudeboybert</code> in the URL to the GitHub ID of the team leader so that you can open your team‚Äôs version of <code>PS02.html</code> in a browser on Tuesday morning.</li>
<li><code>submission.csv</code></li>
<li><code>screen_shot.png</code> or <code>screen_shot.jpg</code>: A screenshot of your Kaggle ranking.</li>
</ol></li>
<li>Tips:
<ul>
<li>Again, do not worry about your score. This problem set is more about process more than outcome.</li>
<li>Do not <a href="https://youtu.be/VrS14wLmVhY?t=12s">spin your wheels</a>!</li>
</ul></li>
<li>Hints:</li>
</ul>
<pre class="r"><code>library(tidyverse)
library(broom)
data(cars)
splines_model &lt;- smooth.spline(x=cars$speed, y=cars$dist, df = 6)
splines_model_tidy &lt;- splines_model %&gt;% 
  broom::augment() 
plot &lt;- ggplot(splines_model_tidy, aes(x=x)) +
  geom_point(aes(y=y)) +
  geom_line(aes(y=.fitted), col=&quot;blue&quot;)
plot</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="480" /></p>
<pre class="r"><code>new_speeds &lt;- c(24.6, 26.4, 23.4, 16.8, 15.8, 5.4, 14.8, 8.2, 1, 18.8, 25, 28, 19.6, 11.2, 21.8, 26.2, 20.6, 0, 14.4, 8.8)
# What do you think output is?
output &lt;- predict(splines_model, new_speeds) %&gt;% 
  tibble::as.tibble()
head(output)</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">x</th>
<th align="right">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">24.6</td>
<td align="right">90.73420</td>
</tr>
<tr class="even">
<td align="right">26.4</td>
<td align="right">107.40765</td>
</tr>
<tr class="odd">
<td align="right">23.4</td>
<td align="right">79.15822</td>
</tr>
<tr class="even">
<td align="right">16.8</td>
<td align="right">46.32364</td>
</tr>
<tr class="odd">
<td align="right">15.8</td>
<td align="right">43.02345</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">8.82841</td>
</tr>
</tbody>
</table>
</div>
<pre class="r"><code>plot +
  geom_point(data=output, aes(x=x, y=y), col=&quot;red&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-14-2.png" width="480" /></p>
</div>
<div id="presentations" class="section level2">
<h2>Presentations</h2>
<ul>
<li>Team F: Abbas, Caleb, Kiryu
<ul>
<li><a href="http://htmlpreview.github.io/?https://github.com/abby-shah/PS02/blob/master/PS02.html">Presentation</a></li>
<li><a href="https://github.com/abby-shah/PS02/">Source code</a></li>
</ul></li>
<li>Team E: Leonard, Vickie, Brendan
<ul>
<li><a href="http://htmlpreview.github.io/?https://github.com/vippie852/PS02/blob/master/PS02.html">Presentation</a></li>
<li><a href="https://github.com/vippie852/PS02/">Source code</a></li>
</ul></li>
</ul>
</div>
<div id="feedback-1" class="section level2">
<h2>Feedback</h2>
<p>Chalk talk on Thu 9/28.</p>
</div>
<div id="example-solutions-4" class="section level2">
<h2>Example solutions</h2>
<ul>
<li><a href="https://htmlpreview.github.io/?https://github.com/2017-09-Amherst-STAT495/PS02/blob/master/PS02_albert.html">HTML output</a></li>
<li><a href="https://github.com/2017-09-Amherst-STAT495/PS02/blob/master/PS02_albert.Rmd"><code>.Rmd</code> source code</a>. Click on ‚ÄúRaw‚Äù button and save to <code>.Rmd</code> in your <code>PS02</code> folder/RStudio project.</li>
</ul>
<hr />
</div>
</div>
<div id="intro_to_splines" class="section level1">
<h1>1.4 Intro to splines</h1>
<div id="tue-912" class="section level2">
<h2>Tue 9/12</h2>
<p>Announcements: New office hours location: Seeley Mudd 208 (lounge)</p>
</div>
<div id="chalk-talk-14" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>Analogy of what we are doing</li>
</ul>
</div>
<div id="splines-1" class="section level2">
<h2>Splines</h2>
<p>Splines are <em>piecewise cubic polynomials with smoothness constraints</em>. The code corresponding to the video at the end of <a href="https://rudeboybert.github.io/STAT495/#13_intro_to_modeling">Lecture 1.3</a> is below. (If you‚Äôre curious, the code that created <code>multiple_df</code>, <code>exercise</code>, <code>fitted</code>, and <code>truth</code> are available on lines 1-86 of <a href="https://bit.ly/rudeboybert_splines" class="uri">https://bit.ly/rudeboybert_splines</a>; these were run behind the scences to keep the code below simple.)</p>
<pre class="r"><code>library(tidyverse)
library(broom)
# Load some pre-computed data
load(url(&quot;https://rudeboybert.github.io/STAT495/static/splines.RData&quot;))

# Here is a wacky function f(x)
f &lt;- function(x){
  f_x &lt;- 0.2*x^11*(10*(1-x))^6+10*(10*x)^3*(1-x)^10
  return(f_x)
}

# For 500 equally spaced values of x between 0 &amp; 1, let&#39;s compute and plot f(x) in red.
# Recall that f(x) is the systematic component, or &quot;the signal&quot;
values &lt;- data_frame(
  x = seq(from=0, to=1, length=500),
  f_x = f(x)
)
values %&gt;% 
  ggplot(aes(x=x)) +
  stat_function(fun = f, col=&quot;red&quot;, size=1)

# We now add the unsystematic error component epsilon to f(x) i.e. the noise, to
# obtain our y&#39;s, and hence our observed points in black (x, y)
values &lt;- values %&gt;% 
  mutate(
    epsilon = rnorm(500, 0, sd = 2),
    y = f_x + epsilon
  )
values %&gt;% 
  ggplot(aes(x=x)) +
  stat_function(fun = f, col=&quot;red&quot;, size=1) +
  geom_point(aes(y=y))

# But remember in real life, we won&#39;t know the red curve! If we did, then why
# are we doing any of this? All we observe are the black points. Let&#39;s &quot;pretend&quot;
# like we don&#39;t know what the red curve is!
values %&gt;% 
  ggplot(aes(x=x)) +
  geom_point(aes(y=y))

# We now fit a &#39;smoothing spline&#39;. Think of it as a piece of string with a
# specified amount of flexibility, where the flexibility is controlled by the
# &quot;degrees of freedom&quot; df. This blue curve is a &quot;guess/estimate&quot; of the red
# curve f(x), which recall, we are pretending we don&#39;t know. Also observe how we
# use the broom::augment() function to convert the output of smooth.spline to
# tidy data frame format.
smooth.spline(values$x, values$y, df=5) %&gt;%
  broom::augment() %&gt;% 
  ggplot(aes(x=x)) +
  geom_point(aes(y=y)) +
  geom_line(aes(y=.fitted), col=&quot;blue&quot;, size=1)
  
# Play around with the df argument in smooth.spline() above.

# Now let&#39;s compare smoothing splines using four different values of the degrees
# of freedom in a plot I precomputed. Which do you think is best? 
multiple_df

# I would say that df=10 roughly is best. df=2 is not quite flexible enough,
# where as df=50 seems to no longer fitting to signal (the true function f) and
# is now fitting to noise. In other words, it is overfitting to this particular
# data set.
multiple_df + 
  stat_function(fun = f, col=&quot;red&quot;, size=1)

# Exercise. Here are a set of points from a different f(x) and epsilon. With
# your finger trace what you think the true f(x) function looks like. In other
# words, separate the signal from the noise!&quot;
exercise

# Let&#39;s fit a spline with 25 degrees of freedom. How close is this to the truth?
fitted

# Ready? Here is the truth! How close were you? Note the noise is normal with mean 0 
# and sd = 12!
truth</code></pre>
<hr />
</div>
</div>
<div id="intro_to_modeling" class="section level1">
<h1>1.3 Intro to modeling</h1>
<div id="mon-911" class="section level2">
<h2>Mon 9/11</h2>
<p>Announcements:</p>
<ul>
<li>Math/stat table for lunch 12-1:30 Terrace Room A, Valentine</li>
<li>Syllabus has been finalized, so please read it:
<ul>
<li>Midterm dates</li>
<li>Andrew‚Äôs tutoring hours: Mondays 6pm-8pm in Seeley Mudd 205 starting today</li>
<li>All problem sets assigned/due/presented on Tuesdays</li>
</ul></li>
<li>Perform pull request for PS01 <em>as a class</em></li>
<li>For tomorrow, watch 9m49s video linked below.</li>
</ul>
<p>Topics:</p>
<ul>
<li>Supervised vs unsupervised learning</li>
<li>Modeling for supervised learning</li>
<li>(If time) Sampling and resampling</li>
</ul>
</div>
<div id="chalk-talk-15" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>1.3 Supervised vs unsupervised</li>
</ul>
</div>
<div id="example-of-unsupervised-learning" class="section level2">
<h2>Example of unsupervised learning</h2>
<p>Colin Woodard‚Äôs idea of 11 Nations of North America:</p>
<p><img src="http://emerald.tufts.edu/alumni/magazine/fall2013/images/features/upinarms-map-large.jpg" alt="Drawing" style="width: 600px;"/></p>
</div>
<div id="chalk-talk-16" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>1.3 Model for supervised learning</li>
</ul>
</div>
<div id="potus-45-on-models" class="section level2">
<h2>POTUS 45 on models</h2>
<blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
Teaching my students to separate systematic model component from irreducible error component when fitting for outcome variable <a href="https://t.co/7jzuqEHTdp">pic.twitter.com/7jzuqEHTdp</a>
</p>
‚Äî Albert Y. Kim (<span class="citation">@rudeboybert</span>) <a href="https://twitter.com/rudeboybert/status/834395069444661249">February 22, 2017</a>
</blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>
<div id="chalk-talk-17" class="section level2">
<h2>Chalk talk</h2>
<ul>
<li>1.3 Income example</li>
<li>1.3 Most common example in Amherst stats courses</li>
</ul>
</div>
<div id="next-steps" class="section level2">
<h2>Next steps</h2>
<ul>
<li>Early on we keep things simple: univariate <span class="math inline">\(\vec{x}\)</span> so that we visualize easily</li>
<li>For tomorrow (Tuesday), watch the following 9m49s video:</li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/bESJ81dyYro" frameborder="0" allowfullscreen>
</iframe>
<hr />
</div>
</div>
<div id="PS01" class="section level1">
<h1>Problem set 1</h1>
<div id="information-5" class="section level2">
<h2>Information</h2>
<p><em>Assigned on Thu 9/7, due on Mon 9/11 9am.</em></p>
<p><img src="https://www.kaggle.com/content/v/6e70930bb5cf/kaggle/img/logos/kaggle-logo-gray-300.png" alt="Drawing" style="width: 250px;"/></p>
<p>Baby‚Äôs first Kaggle competition and GitHub pull request! Specifically the <a href="https://www.kaggle.com/c/titanic">Titanic: Machine Learning from Disaster</a> competition. You will be submitting predictions on who survived/died amongst the passengers randomly assigned to the <em>test set</em> and viewing your Kaggle leaderboard score.</p>
<ul>
<li>Teams: Individual</li>
<li>Deliverables: A ready to submit <em>pull request</em> to the <a href="https://github.com/2017-09-Amherst-STAT495/PS01">PS01 repo</a>, in other words complete only <a href="https://github.com/2017-09-Amherst-STAT495/README#problem-set-submission-process">steps 1-5</a> of the problem set submission process. However, you will all be submitting/making the pull request (step 6) at the same time as a group in lecture. The following files should be modified/added from the original
<ol style="list-style-type: decimal">
<li><code>PS01.Rmd</code>: This should be well-commented and <strong>completely reproducible</strong>. In other words, if someone else takes this repo, they should be able to reproduce your work with one click of the mouse. This necessitates taking an empathetic view of other users.</li>
<li><code>PS01.html</code>: The output of <code>PS01.Rmd</code></li>
<li><code>submission.csv</code>: Your predictions of who survives based on something other than sex. Current set to match <code>gender_submissions.csv</code> on Kaggle.</li>
<li><code>screen_shot.png</code> or <code>screen_shot.jpg</code>: A screenshot of your Kaggle ranking. Be sure to ‚Äúclean‚Äù your browsers.</li>
<li>Any other necessary files.</li>
</ol></li>
<li>Tips:
<ul>
<li>This problem set is only about getting used to the process, not about anything substantive.</li>
<li>You don‚Äôt have to fit actual model for now, but feel free to if you want. Don‚Äôt even worry about how good your predictions are, just focus on getting a score.</li>
<li>Do not <a href="https://youtu.be/VrS14wLmVhY?t=12s">spin your wheels</a>! If you are stuck, take a breather, and consult others.</li>
</ul></li>
<li><strong>Note added 9/7 1:30pm</strong>: There is an error in <code>PS01.Rmd</code>; replace line 4 of <code>PS01.Rmd</code> so that it reads:</li>
</ul>
<pre><code>date: &quot;2017-09-07&quot;</code></pre>
</div>
<div id="feedback-2" class="section level2">
<h2>Feedback</h2>
<ul>
<li>Andrew K. (TA) gave <a href="https://github.com/2017-09-Amherst-STAT495/PS01/pulls">feedback on PS01 on GitHub</a> and will do so for every problem set by Tuesday evening.
<ul>
<li>You should‚Äôve received an email.</li>
<li>Best viewed in the GitHub webpage GUI in split diff mode.</li>
</ul></li>
<li>Overall comments:
<ul>
<li><code>View()</code> doesn‚Äôt work in an <code>.Rmd</code> file; do not include these.</li>
<li>Don‚Äôt comment for your own sake, but rather comment to be empathetic to your collaborators. In particular your <a href="http://rmhogervorst.nl/cleancode/blog/2016/05/26/your-most-valuable-collaborator-future-you.html">most important collaborator</a>.</li>
<li>The <a href="http://opensourcesurvey.org/2017/">tone of your interactions</a> matters, especially in an open source setting. This take practice.</li>
</ul></li>
</ul>
<hr />
</div>
</div>
<div id="getting-used-to-infrastructure" class="section level1">
<h1>1.2 Getting used to infrastructure</h1>
<div id="thu-97" class="section level2">
<h2>Thu 9/7</h2>
<p>Announcements:</p>
<ul>
<li>Refresher on Slack notifications</li>
<li>GitHub organization for the course: Where problem sets will be distributed/submitted
<ul>
<li>Ensure you can access the GitHub organization by clicking ‚ÄúGitHub Org‚Äù above.</li>
<li>If BOTH your full name and/or a recent picture are not visible <a href="https://github.com/orgs/2017-09-Amherst-STAT495/people">here</a>, please update your GitHub profile.</li>
</ul></li>
</ul>
<p>Topics:</p>
<ul>
<li>GitHub pull request theory</li>
<li>Kaggle competition</li>
</ul>
</div>
<div id="github-pull-request-theory" class="section level2">
<h2>GitHub pull request theory</h2>
<ul>
<li>Open the following in two separate tabs
<ul>
<li><a href="https://github.com/2017-09-Amherst-STAT495/PS01">Problem set 1</a></li>
<li><a href="https://github.com/2017-09-Amherst-STAT495/README#problem-set-submission-process">Problem set submissions process</a></li>
</ul></li>
<li>Chalk talk: 1.2 GitHub pull requests</li>
</ul>
</div>
<div id="kaggle-data" class="section level2">
<h2>Kaggle data</h2>
<ul>
<li>Run the code block below to load/inspect the <a href="https://www.kaggle.com/c/titanic/data">Titanic data</a> from Kaggle (which I‚Äôve uploaded to the course webpage)</li>
<li>Chalk talk: 1.2 Kaggle data</li>
</ul>
<pre class="r"><code>library(tidyverse)
train &lt;- read_csv(&quot;https://rudeboybert.github.io/STAT495/static/Titanic/train.csv&quot;)
test &lt;- read_csv(&quot;https://rudeboybert.github.io/STAT495/static/Titanic/test.csv&quot;)
submission &lt;- read_csv(&quot;https://rudeboybert.github.io/STAT495/static/Titanic/gender_submission.csv&quot;)

glimpse(train)
glimpse(test)
glimpse(submission)

View(train)
View(test)
View(submission)</code></pre>
</div>
<div id="who-is-predicted-to-survive" class="section level2">
<h2>Who is predicted to survive?</h2>
<p>The predictions are based on the sex of the passengers.</p>
<pre class="r"><code>test %&gt;% 
  left_join(submission, by=&quot;PassengerId&quot;) %&gt;% 
  select(PassengerId, Sex, Survived)</code></pre>
</div>
<div id="tech-time" class="section level2">
<h2>Tech time</h2>
<ul>
<li>Questions:
<ol style="list-style-type: decimal">
<li>What is the ‚Äúscoring‚Äù mechanism for this Kaggle competition?</li>
<li>What score does the above ‚Äúmodel‚Äù yield for the <code>train</code>ing data?</li>
</ol></li>
<li>Start problem set 1</li>
</ul>
<hr />
</div>
</div>
<div id="problem-set-0" class="section level1">
<h1>Problem set 0</h1>
<div id="information-6" class="section level2">
<h2>Information</h2>
<p><em>Assigned on Tue 9/5, due on Thu 9/7 lecture time</em>.</p>
<ul>
<li>Set up Git/GitHub to interface with RStudio on your computer by reading and following along to Chapters 1-15 of <a href="http://happygitwithr.com/">‚ÄúHappy Git and GitHub for the useR‚Äù</a></li>
<li>If you start spinning your wheels, don‚Äôt panic! I‚Äôll have office hours on Thursday 2-5pm to help out if you are stuck.</li>
</ul>
<hr />
</div>
</div>
<div id="syllabus-and-background" class="section level1">
<h1>1.1 Syllabus and background</h1>
<div id="tue-95" class="section level2">
<h2>Tue 9/5</h2>
<ul>
<li>Albert‚Äôs background</li>
<li>Go over syllabus</li>
<li>Setting up infrastructure
<ol style="list-style-type: decimal">
<li>Intro to Slack</li>
<li>Intro to Kaggle</li>
<li>Intro to GitHub</li>
</ol></li>
</ul>
</div>
<div id="your-instructor" class="section level2">
<h2>Your instructor</h2>
<p><a href="http://rudeboybert.rbind.io/" class="uri">http://rudeboybert.rbind.io/</a></p>
</div>
<div id="what-is-machine-learning" class="section level2">
<h2>What is machine learning?</h2>
</br>
<center>
<img src="images/data_science_3.png" alt="Drawing" style="width: 300px;"/>
</center>
<p></br></p>
</div>
<div id="my-philosophy" class="section level2">
<h2>My philosophy</h2>
<blockquote>
<ul>
<li><strong>Question</strong> What is the difference between statistics, data science, and machine learning?</li>
<li><strong>Answer</strong> Ben Baumer at Smith posed: ‚ÄúInstead of obsessing over Venn diagrams of what topics are within the domains of which disciplines, I ask instead‚Äù: What if we blew up math, stats, CS, and all their legacies and started over? What would this field look like/be called?&quot;</li>
</ul>
</blockquote>
</div>
<div id="definitions" class="section level2">
<h2>Definitions</h2>
<ul>
<li>Arthur Samuel (1959): Machine learning is the subfield of computer science that gives computers the ability to learn without being explicitly programmed.</li>
<li>Albert Y. Kim (2017): Prediction. Examples:
<ul>
<li><a href="https://www.wired.com/2016/10/ubers-self-driving-truck-makes-first-delivery-50000-beers/">Self-Driving Vehicles</a></li>
<li><a href="https://www.netflix.com/browse">Netflix</a> recommendations</li>
<li>Simple linear regression <em>for prediction</em> and <em>not for explanation</em></li>
</ul></li>
</ul>
</div>
<div id="syllabus" class="section level2">
<h2>Syllabus</h2>
<p><a href="syllabus.html">Syllabus</a> discussion.</p>
</div>
<div id="toolbox-tidyverse" class="section level2">
<h2>Toolbox: <code>tidyverse</code></h2>
<p><img src="images/tidyverse.png" alt="Drawing" style="width: 800px;"/></p>
</div>
<div id="setting-up-infrastructure" class="section level2">
<h2>Setting up infrastructure</h2>
<ol style="list-style-type: decimal">
<li>Intro to Slack</li>
<li>Intro to Kaggle</li>
<li>Intro to GitHub</li>
</ol>
</div>
<div id="intro-to-slack" class="section level2">
<h2>Intro to Slack</h2>
<ul>
<li>Slack is a medium for communication that has many pros (and some cons)</li>
<li>I require you to use Slack via the <a href="https://slack.com/downloads/">Desktop App</a></li>
<li>Student <a href="https://docs.google.com/spreadsheets/d/1UZmhutoc17ZoWqf6jX9-m_8Ewvw6amVu__X0MMqlbEU">feedback</a></li>
</ul>
</div>
<div id="tech-time-1" class="section level2">
<h2>Tech time</h2>
<ul>
<li>Make sure you‚Äôve completed the <a href="https://docs.google.com/forms/d/17tNYB4VqEfXvxvNvIhVvb5OmsTldXQ19OdCYUyYzvl0/edit">intro survey</a></li>
<li>Install the Slack <a href="https://slack.com/downloads/">Desktop App</a></li>
<li>GitHub
<ul>
<li>If you don‚Äôt have a <a href="https://github.com/">GitHub.com</a> account already, create one.</li>
<li>Update your name and post a <em>recent</em> profile picture.</li>
</ul></li>
<li>Take a break</li>
</ul>
</div>
<div id="slack" class="section level2">
<h2>Slack</h2>
<!--
1. Slack team
1. Slack channel
1. Direct messages: individual, group, to yourself
1. Mentions
1. Sharing code:
    1. in-line using `
    1. Code blocks using ``` and shift+enter
1. File drag and drop
1. Edit profile
-->
<ul>
<li>Chalk talk: 1.1 Slack</li>
<li>Exercise:
<ul>
<li>Send me your GitHub login via direct message (DM)</li>
<li>Practice sending group DM with seatmates</li>
</ul></li>
<li>Key for Slack success: Setting notifications</li>
</ul>
</div>
<div id="intro-to-kaggle" class="section level2">
<h2>Intro to Kaggle</h2>
<ul>
<li>Baby‚Äôs first Kaggle competition: <a href="https://www.kaggle.com/c/titanic">Titanic</a></li>
<li>Chalk talk: 1.1 Kaggle</li>
</ul>
</div>
<div id="intro-to-github" class="section level2">
<h2>Intro to GitHub</h2>
<ul>
<li>My GitHub profile: <a href="https://github.com/rudeboybert"><code>rudeboybert</code></a></li>
<li>Example: <code>ggplot2</code> <a href="https://github.com/tidyverse/ggplot2">source code</a></li>
</ul>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiU1RBVC9NQVRIIDQ5NTogQWR2YW5jZWQgRGF0YSBBbmFseXNpcyIKYXV0aG9yOiAiQWxiZXJ0IFkuIEtpbSIKZGF0ZTogIkxhc3QgdXBkYXRlZCBvbiBgciBTeXMuRGF0ZSgpYCIKb3V0cHV0OgogIGh0bWxfZG9jdW1lbnQ6CiAgICBjb2RlX2Rvd25sb2FkOiB5ZXMKICAgIHRvYzogdHJ1ZQogICAgdG9jX2RlcHRoOiAxCiAgICB0b2NfZmxvYXQ6IHRydWUKLS0tCgo8c3R5bGU+Cmgxe2ZvbnQtd2VpZ2h0OiA0MDA7fQo8L3N0eWxlPgoKYGBge3Igc2V0dXAsIGluY2x1ZGU9RkFMU0V9CmtuaXRyOjpvcHRzX2NodW5rJHNldChlY2hvID0gVFJVRSwgbWVzc2FnZT1GQUxTRSwgd2FybmluZyA9IEZBTFNFKQpsaWJyYXJ5KHRpZHl2ZXJzZSkKbGlicmFyeShicm9vbSkKbGlicmFyeShrbml0cikKbGlicmFyeShtb2RlbHIpCmxpYnJhcnkobHVicmlkYXRlKQpsaWJyYXJ5KGZvcmNhdHMpCmxpYnJhcnkobnljZmxpZ2h0czEzKQpsaWJyYXJ5KGdyaWRFeHRyYSkKCiMgZGV2dG9vbHM6Omluc3RhbGxfZ2l0aHViKCJoYWRsZXkvZW1vIikKbGlicmFyeShlbW8pCnNldC5zZWVkKDc2KQpgYGAKCmBgYHtyLCBldmFsPUZBTFNFLCBlY2hvPUZBTFNFfQojIFJ1biB0aGlzIHNlcGFyYXRlbHkgdG8gaGF2ZSBzbGlkZSBvdXRwdXQ6CnJtYXJrZG93bjo6cmVuZGVyKCJpbmRleC5SbWQiLCBvdXRwdXRfZm9ybWF0ID0gYygiaW9zbGlkZXNfcHJlc2VudGF0aW9uIiksIG91dHB1dF9maWxlID0gInNsaWRlcy5odG1sIikKYGBgCgpgYGB7ciwgZXZhbD1GQUxTRSwgZWNobz1GQUxTRX0KIyBDb2RlIHRvIHJhbmRvbWx5IGFzc2lnbiBzdHVkZW50cyB0byBncm91cHM6CmxpYnJhcnkodGlkeXZlcnNlKQpjbGFzcyA8LSBjKCJCcmVubmEiLCAiQW50aG9ueSIsICJBYmJhcyIsICJTYXJhIiwgIlNhcmFoIiwgIkpvbmF0aGFuIiwgIkhhcnJpc29uIiwgIlRhc2hlZW5hIiwgIkxlb25hcmQiLCAiVGltb3RoeSIsICJKZW5uIiwgIktpcnl1IiwgIkplZmYiLCAiVmlja2llIiwgIlBlaSIsICJMdWtlIiwgIkJyZW5kYW4iLCAiQ2FsZWIiLCAiTWVyb24iLCAiQ2hyaXN0aWVuIiwgIldheW5lIiwgIk1lcmVkaXRoIikKc2V0LnNlZWQoNzYpCnNhbXBsZShjbGFzcykgJT4lIG1hdHJpeChucm93PTIpICU+JSB0YmxfZGYoKSAlPiUga25pdHI6OmthYmxlKCkKYGBgCgoKCioqKgoKKiAqKlNvdXJjZSBjb2RlKio6IFRoZSBSIE1hcmtkb3duIGNvZGUgdG8gYnVpbGQgdGhpcyB3ZWJwYWdlIGlzIGFjY2VzaWJsZSBieSBjbGlja2luZyB0aGUgR2l0SHViIGljb24gb24gdGhlIHRvcC1yaWdodCBvZiB0aGUgbmF2IGJhci4KKiAqKkxlY3R1cmUgbnVtYmVyaW5nKio6IFRoZSBsZWN0dXJlcyBhcmUgbnVtYmVyZWQgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgcm91Z2ggdG9waWMgb3V0bGluZToKICAgIDEuIEJhY2tncm91bmQKICAgICAgICAqIH5+SW50cm8gdG8gbW9kZWxpbmd+fiAKICAgICAgICAqIH5+U2ltcGxlIGNhc2Ugd2l0aCB1bml2YXJpYXRlIHByZWRpY3RvcnMgdG8gc3RhcnQ6IHNwbGluZXN+fgogICAgICAgICogfn5TYW1wbGluZy9yZXNhbXBsaW5nLCBvdXQtb2Ytc2FtcGxlIHByZWRpY3Rpb24sIGNyb3NzdmFsaWRhdGlvbn5+CiAgICAgICAgKiBCaWFzLXZhcmlhbmNlIHRyYWRlb2ZmCiAgICAxLiB+fkNvbnRpbnVvdXMgb3V0Y29tZXMgSX5+CiAgICAgICAgKiB+fkxPRVNTIHNtb290aGVyfn4KICAgICAgICAqIH5+UmVncmVzc2lvbiBmb3IgcHJlZGljdGlvbn5+CiAgICAxLiBDYXRlZ29yaWNhbCBvdXRjb21lcyBpLmUuIGNsYXNzaWZpY2F0aW9uCiAgICAgICAgKiBMb2dpc3RpYyByZWdyZXNzaW9uIGZvciBwcmVkaWN0aW9uICsgUk9DIGN1cnZlcwogICAgICAgICogay1OZWFyZXN0IE5laWdoYm9ycwogICAgICAgICogQ2xhc3NpZmljYXRpb24gYW5kIHJlZ3Jlc3Npb24gdHJlZXMgKENBUlQpCiAgICAxLiBDb250aW51b3VzIG91dGNvbWUgSUkKICAgICAgICAqIFJlZ3VsYXJpemF0aW9uL3Nocmlua2FnZSBtZXRob2RzOiBSaWRnZSByZWdyZXNzaW9uIGFuZCBMQVNTTwogICAgMS4gT3RoZXIgbWV0aG9kcwogICAgICAgICogQm9vc3RpbmcgYW5kIGJhZ2dpbmcKICAgICAgICAqIFJhbmRvbSBmb3Jlc3RzCiAgICAgICAgKiBOZXVyYWwgbmV0cwogICAgMS4gVW5zdXBlcnZpc2VkIGxlYXJuaW5nICh0aW1lIHBlcm1pdHRpbmcpCiAgICAgICAgKiBQcmluY2lwYWwgY29tcG9uZW50cyBhbmFseXNpcwogICAgICAgICogay1NZWFucyBDbHVzdGVyaW5nCgoKCgoKCjwhLS0KIyAzLjEgQ2F0ZWdvcmljYWwgb3V0Y29tZXMKCiMjIFRodSAxMi8xMgoKQW5ub3VuY2VtZW50czoKCgpodHRwOi8vci1wa2dzLmhhZC5jby5uei9zdHlsZS5odG1sCmh0dHA6Ly9hZHYtci5oYWQuY28ubnovU3R5bGUuaHRtbCAKaHR0cDovL3N0eWxlLnRpZHl2ZXJzZS5vcmcvCgoKIyMgQ2hhbGsgdGFsawoKMy4xCgoKCgoKKioqCgoKCgoKLS0+CgoKCioqKgoKCiMgMi43IE1vcmUgYmlhcy12YXJpYW5jZSB0cmFkZS1vZmYKCiMjIFdlZCAxMC8xMSAoTW9uZGF5IHNjaGVkdWxlKQoKKiBBdCA5YW0sIFtQUzA1XSgjUFMwNSkgc3ljaHJvbml6ZWQgcHVsbCByZXF1ZXN0cyBieSB0ZWFtIGxlYWRlcnMuCiogUXVpeiBvbiBbYmlhcy12YXJpYW5jZQp0cmFkZW9mZl0oaHR0cDovL3Njb3R0LmZvcnRtYW5uLXJvZS5jb20vZG9jcy9CaWFzVmFyaWFuY2UuaHRtbCkgcmVhZGluZyBwb3N0ZWQgaW4gTGVjIDIuNi4KKiBQcm9ibGVtIHNldCAwNSAocmFuZG9tbHkgY2hvc2VuKSBbZ3JvdXAgcHJlc2VudGF0aW9uc10oI1BTMDVfcHJlc2VudGF0aW9ucykuCiogUmVjYWxsIGJlY2F1c2Ugb2Ygb2RkIHNjaGVkdWxlIHRoaXMgd2VlaywgZmVlZGJhY2sgd2lsbCBiZSBkZWxpdmVyZWQgYnkgVGh1cnNkYXkgMTAvMTIgOWFtLiBZb3VyIGdyb3VwIGNhbiAob3B0aW9uYWxseSkgcmVzdWJtaXQgeW91ciB3b3JrIGJ5IEZyaWRheSAxMC8xMyBhdCA1cG0uCgoKCiMjIENoYWxrIHRhbGsKCjIuNyBCaWFzLXZhcmlhbmNlIHRyYWRlLW9mZiBoYW5kb3V0czoKPCEtLQoqIFtQREZdKHN0YXRpYy9nZW5lcmF0ZV9zcGxpbmVzX2JpYXNfdmFyaWFuY2VfaGFuZG91dC9wbG90cy5wZGYpCiogW1NvdXJjZSBjb2RlXShzdGF0aWMvZ2VuZXJhdGVfc3BsaW5lc19iaWFzX3ZhcmlhbmNlX2hhbmRvdXQvZ2VuZXJhdGVfc3BsaW5lc19iaWFzX3ZhcmlhbmNlX2hhbmRvdXQuUikKLS0+CgoKKioqCgoKIyBQcm9ibGVtIHNldCA2IHsjUFMwNn0KCiMjIEluZm9ybWF0aW9uCgpJbXBvcnRhbnQgZGF0ZXMvdGltZXM6CgoqIFdlZCAxMC8xMTogQXNzaWduZWQuCiogVHVlIDEwLzE3IDg6MzBhbTogRHVlIHZpYSBzeW5jaHJvbml6ZWQgcHVsbCByZXF1ZXN0LiBObyBwcmVzZW50YXRpb25zIGZvciBQUzA2LgoqIFdlZCAxMC8xOCA5YW06IEZlZWRiYWNrIGRlbGl2ZXJlZCBieSBBbmRyZXcuCiogVGh1IDEwLzE5IDg6MzBhbTogKE9wdGlvbmFsKSByZXZpc2lvbnMgZHVlLgoKWW91IHdpbGwgc2hvdyAKCiogVGVhbXM6IEluZGl2aWR1YWwKKiBQcmVzZW50YXRpb25zOiBOb25lCiogRGVsaXZlcmFibGVzOiBPbmUgcmVhZHkgdG8gc3VibWl0ICpwdWxsIHJlcXVlc3QqIHRvIHRoZSBbUFMwNgpyZXBvXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUFMwNikuIEF0IHRoZSB2ZXJ5IGxlYXN0LCB0aGUKZm9sbG93aW5nIGZpbGVzIHNob3VsZCBiZSBtb2RpZmllZC9hZGRlZDoKICAgIDEuIGBQUzA2LlJtZGA6IFNvdXJjZSBjb2RlCiAgICAxLiBgUFMwNi5odG1sYDogVGhlIG91dHB1dCBvZiBgUFMwNi5SbWRgLgogICAgMS4gYFJFQURNRS5tZGA6IENoYW5nZSBgcnVkZWJveWJlcnRgIGluIHRoZSBVUkwgdG8geW91ciBHaXRIdWIgSUQgc28gdGhhdAogICAgYm90aCBBbmRyZXcgYW5kIEkgY2FuIG9wZW4geW91ciBgUFMwNi5odG1sYCBpbiBhIGJyb3dzZXIuIFRlc3QgdGhpcyBVUkwgb3V0IQoqIFRpcHM6CgoKIyMgRXhhbXBsZSBzb2x1dGlvbnMKCgoKKioqCgoKCiMgUHJvYmxlbSBzZXQgNSB7I1BTMDV9CgojIyBJbmZvcm1hdGlvbgoKKkFzc2lnbmVkIG9uIFR1ZSAxMC8zLCBkdWUgb24gV2VkIDEwLzExIChNb25kYXkgc2NoZWR1bGUpIDlhbSBhdCB3aGljaCBwb2ludCB0aGVyZSB3aWxsIGJlIHN5bmNocm9uaXplZCBwdWxsIHJlcXVlc3RzLioKCjxhIGhyZWY9Imh0dHBzOi8vd3d3LmthZ2dsZS5jb20vYy9iaWtlLXNoYXJpbmctZGVtYW5kIj4KPGltZyBib3JkZXI9IjAiIGFsdD0iYmlrZSIgc3JjPSJpbWFnZXMvYmlrZS5wbmciIHdpZHRoPSI2MDAiPgo8L2E+CgpZb3Ugd2lsbCBlbnRlciB0aGUgW0Jpa2UgU2hhcmluZwpEZW1hbmRdKGh0dHBzOi8vd3d3LmthZ2dsZS5jb20vYy9iaWtlLXNoYXJpbmctZGVtYW5kKSBLYWdnbGUgY29tcGV0aXRpb24gYW5kIGZpdAphIGxpbmVhciByZWdyZXNzaW9uIG1vZGVsIHRvIHByZWRpY3QgdGhlIG51bWJlciBvZiByZW50YWxzIHBlciBob3VyLCBob3dldmVyCip1c2luZyBvbmx5IDMgcHJlZGljdG9yIHZhcmlhYmxlcyouIEZvcmsgYSBjb3B5IG9mIHRoZSBbUFMwNQpyZXBvXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUFMwNSkgaW4gdGhlIGNvdXJzZSBHaXRIdWIKT3JnYW5pemF0aW9uIGFuZCB0aGVuIGNsb25lIGl0IGluIHdoYXRldmVyIHZlcnNpb24gb2YgUlN0dWRpbyB5b3UgbGlrZS4gVGhlCmZvY3VzIG9mIHRoaXMgZXhlcmNpc2UgaXMgdG8gYXJndWUgdG8gZGVjaXNpb24gbWFrZXJzIHdoeSB5b3VyIDMgY2hvc2VuCnZhcmlhYmxlcyBwcm92aWRlIHRoZSBtb3N0ICJiYW5nIGZvciB5b3VyIGJ1Y2siIGluIHByZWRpY3RpbmcgYmlrZXNoYXJlIGRlbWFuZC4KCiogVGVhbXM6IDItMyBwZW9wbGUgYXQgeW91ciBjaG9vc2luZy4gT25jZSB5b3UndmUgc2VsZWN0ZWQgeW91ciBncm91cCBkZXNpZ25hdGUgb25lIHBlcnNvbiBhcyAqKnRlYW0gbGVhZGVyKiogKndobyBoYXMgbm90IHByZXZpb3VzbHkgYmVlbiBhIHRlYW0gbGVhZGVyKiwgd2hvIHdpbGw6CiAgICArIENyZWF0ZSBhIFNsYWNrIERNIHRoYXQgaW5jbHVkZXMgQWxiZXJ0LCBBbmRyZXcgS2ltIChUQSksIGFuZCBhbGwgdGVhbSBtZW1iZXJzLiBTbyBmYXI6CiAgICAgICAgKyBUZWFtIEE6ICoqU2FyYWggVCoqLCBKb25hdGhhbiwgVGltb3RoeQogICAgICAgICsgVGVhbSBCOiAqKkNocmlzdGllbioqLCBIYXJyaXNvbiAKICAgICAgICArIFRlYW0gQzogKipCcmVuZGFuKiosIExlb25hcmQsIFZpY2tpZQogICAgICAgICsgVGVhbSBEOiAqKkplbm4qKiwgUGVpLCBBbnRob255CiAgICArIFN1Ym1pdCBhIHNpbmdsZSBwdWxsIHJlcXVlc3Qgb24gYmVoYWxmIG9mIHRoZSBncm91cC4KICAgICsgU3VibWl0IGEgc2luZ2xlIHN1Ym1pc3Npb24gdG8gS2FnZ2xlIG9uIGJlaGFsZiBvZiB0aGUgZ3JvdXAuCiogRGVsaXZlcmFibGVzOiBPbmUgcmVhZHkgdG8gc3VibWl0ICpwdWxsIHJlcXVlc3QqIHRvIHRoZSBbUFMwNQpyZXBvXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUFMwNSkgKHJlY2FsbCB0aGUgR2l0SHViCltzdWJtaXNzaW9uCnByb2Nlc3NdKGh0dHBzOi8vZ2l0aHViLmNvbS8yMDE3LTA5LUFtaGVyc3QtU1RBVDQ5NS9SRUFETUUjcHJvYmxlbS1zZXQtc3VibWlzc2lvbi1wcm9jZXNzKSkuCkF0IHRoZSB2ZXJ5IGxlYXN0LCB0aGUgZm9sbG93aW5nIGZpbGVzIHNob3VsZCBiZSBtb2RpZmllZC9hZGRlZDoKICAgIDEuIGBQUzA1LlJtZGA6IFRoaXMgc2hvdWxkCiAgICAgICAgKyBCZSB3ZWxsLWNvbW1lbnRlZCBhbmQgY29tcGxldGVseSByZXByb2R1Y2libGUuCiAgICAgICAgKyBJbnZvbHZlIGFuICpleHBsb3JhdG9yeSBkYXRhIGFuYWx5c2lzKiBhcmd1aW5nIHdoeSB5b3UgY2hvc2UgdGhlIHRocmVlCiAgICAgICAgdmFyaWFibGVzIHlvdSBkaWQuCiAgICAxLiBgUFMwNS5odG1sYDogVGhlIG91dHB1dCBvZiBgUFMwNS5SbWRgLiBUaGlzIHdpbGwgYmUgdGhlIHByZXNlbnRhdGlvbiBmaWxlCiAgICBmb3IgYSByYW5kb21seSBjaG9zZW4gc2V0IG9mIGdyb3VwcyBvbiBXZWQgMTAvMTEuCiAgICAxLiBgUkVBRE1FLm1kYDogQ2hhbmdlIGBydWRlYm95YmVydGAgaW4gdGhlIFVSTCB0byB0aGUgR2l0SHViIElEIG9mIHRoZSB0ZWFtCiAgICBsZWFkZXIgc28gdGhhdCB5b3UgY2FuIG9wZW4geW91ciB0ZWFtJ3MgdmVyc2lvbiBvZiBgUFMwNS5odG1sYCBpbiBhIGJyb3dzZXIKICAgIG9uIFR1ZXNkYXkgbW9ybmluZy4KICAgIDEuIGBzdWJtaXNzaW9uLmNzdmAKICAgIDEuIGBzY3JlZW5fc2hvdC5wbmdgIG9yIGBzY3JlZW5fc2hvdC5qcGdgOiBBIHNjcmVlbnNob3Qgb2YgeW91ciBLYWdnbGUgcmFua2luZy4KKiBGZWVkYmFjayB3aWxsIGJlIGRlbGl2ZXJlZCBieSBUaHVyc2RheSAxMC8xMiA5YW0uIFlvdXIgZ3JvdXAgY2FuIHJlc3VibWl0IHlvdXIgd29yayBieSBGcmlkYXkgMTAvMTMgYXQgNXBtLgoqIFRpcHM6CiAgICArIFRoaW5rIGFib3V0IHRoZSBwcm9qZWN0aW9uIG9udG8gdGhlIHNoZWV0IGV4ZXJjaXNlLiBXaGF0IHZhcmlhYmxlcyBwcm92aWRlCiAgICB0aGUgbW9zdCAiYmFuZyBmb3IgeW91ciBidWNrIiBmb3IgdW5kZXJzdGFuZGluZyB3aGF0J3MgYmVoaW5kIHRoZSBzaGVldCwgaW4KICAgIHRoaXMgY2FzZSwgdGhlIG1lY2hhbmlzbSB0aGF0IGRldGVybWluZXMgYmlrZXNoYXJlIGRlbWFuZC4KICAgICsgQWdhaW4sIGRvIG5vdCB3b3JyeSBhYm91dCB5b3VyIHNjb3JlLiBUaGlzIHByb2JsZW0gc2V0IGlzIG1vcmUgYWJvdXQKICAgIHByb2Nlc3MgdGhhbiBwcm9kdWN0LgogICAgKyBZb3VyIGRlY2lzaW9uIHByb2Nlc3MgZm9yIGRldGVybWluaW5nIHdoaWNoIDMgdG8gdXNlIGNhbiBiZSBiYXNlZAogICAgZXhjbHVzaXZlbHkgb24geW91ciBFREEuIEhvd2V2ZXIsIGlmIHlvdSBhcmUgbG9va2luZyBmb3Igc29tZXRoaW5nICJsZXNzCiAgICB1bnN5c3RlbWF0aWMiLCB5b3UgY2FuIHVzZSB0aGUgYXBwcm9hY2hlcyBpbiB0aGUgSVNMUiByZWFkaW5ncyBmb3IgQ2hhcHRlciA2CiAgICBsaXN0ZWQgYWJvdmU7IHRoaXMga2luZCBvZiBhcHByb2FjaCBpcyBzdHJpY3RseSBvcHRpb25hbC4KCgojIyBQcmVzZW50YXRpb25zIHsjUFMwNV9wcmVzZW50YXRpb25zfQoKCgoKIyMgRXhhbXBsZSBzb2x1dGlvbnMKCgoKCioqKgoKCgoKCgoKIyAyLjYgQmlhcy12YXJpYW5jZSB0cmFkZS1vZmYKCiMjIFR1ZSAxMC8zCgpBbm5vdW5jZW1lbnRzOgoKKiBUZXN0IG91dCBbUlN0dWRpbyBTaGFyZWQKUHJvamVjdHNdKGh0dHBzOi8vc3VwcG9ydC5yc3R1ZGlvLmNvbS9oYy9lbi11cy9hcnRpY2xlcy8yMTE2NTk3MzctU2hhcmluZy1Qcm9qZWN0cy1pbi1SU3R1ZGlvLVNlcnZlci1Qcm8pLiBFeGVjdXRpdmUgc3VtbWFyeTogaXQncyBub3QgcXVpdGUgdXNpbmcgUiBpbiAiR29vZ2xlIERvY3MiLCBidXQgcmF0aGVyICJHb29nbGUKRG9jIi1saWtlIGNvbGxhYm9yYXRpdmUgZWRpdGluZyBmdW5jdGlvbmFsaXR5IGluIFJTdHVkaW8uCiogKk5vdGUgb24gbW9kZWwgc2VsZWN0aW9uKjogUmVhZCBJU0xSIENoYXB0ZXJzIDYgdGhydSB0byB0aGUgYmVnaW5uaW5nIG9mIDYuMgooYm9vayBwYWdlcyAyMDMtMjE0LCBQREYgcGFnZXMgMjE3LTIyOCkgZm9yIGEgZGlzY3Vzc2lvbiBvbiAibW9kZWwgc2VsZWN0aW9uIjoKaG93IHRvIHNlbGVjdCB3aGljaCBwcmVkaWN0b3JzIHRvIHVzZSBpbiBhIGZpbmFsIHJlZ3Jlc3Npb24gbW9kZWwuIAoqIFF1aXogb24gV2VkIDEwLzExIChNb25kYXkgc2NoZWR1bGUpIGFmdGVyIFBTMDUgc3VibWlzc2lvbiwgd29ydGggb25lIHRlbnRoIG9mIHBhcnRpY2lwYXRpb24gZ3JhZGUgPSAxJQpvZiBmaW5hbCBncmFkZS4gUmVhZCB0aGUgZm9sbG93aW5nIGV4cGxhbmF0aW9uIG9mIHRoZSBbYmlhcy12YXJpYW5jZQp0cmFkZW9mZl0oaHR0cDovL3Njb3R0LmZvcnRtYW5uLXJvZS5jb20vZG9jcy9CaWFzVmFyaWFuY2UuaHRtbCkgYW5kIGJlIHByZXBhcmVkCnRvIGFuc3dlciBxdWVzdGlvbnMgb24gaXQuCgoKIyMgQ2hhbGsgdGFsawoKKiAyLjYgRmluaXNoIFBTMDMgZGlzY3Vzc2lvbjogSG93IHRvIHBpY2sgb3B0aW1hbCBkZWdyZWVzIG9mIGZyZWVkb20gJGRmXiokCgoKIyMgQmFjayB0byBzcGxpbmVzCgpMZXQncyBsb29rIGF0OgoKKiBUaHJlZSBvZiB0aGUgc3BsaW5lcyBtb2RlbHMgZnJvbSBbTGVjdHVyZSAxLjZdKCN0ZXhhcyksIGhvd2V2ZXIgZm9yIG9ubHkgMTAwIHJhbmRvbWx5IHNhbXBsZWQgcG9pbnRzICR5PWYoeCkrXGVwc2lsb24kIHRvIG1ha2UgdGhlIHBsb3RzIGxlc3MgZGVuc2UKKiBQbHVzIGFuIGV4dHJlbWUgY2FzZSBvZiAicGVyZmVjdCIgZml0dGluZwoqIFRoZXJlIGlzIG5vIG5ldyBzYW1wbGUgb2YgcG9pbnRzIGJlaW5nIGNvbGxlY3RlZCBub3IgY3Jvc3N2YWxpZGF0aW9uIGdvaW5nIG9uIGhlcmU7IGp1c3QgdGFrZSB0aGUgcG9pbnRzIGFuZCBmaXQgYSBtb2RlbC4KCgpgYGB7ciwgZWNobz1GQUxTRSwgZmlnLndpZHRoPTgsIGZpZy5oZWlnaHQ9OH0KIyBGcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3J1ZGVib3liZXJ0Lzc1MmY3YWExZTQyZmFhMjE3NDgyMmRkMjliZmFmOTU5CnNldC5zZWVkKDc2KQpkZl92YWx1ZXMgPC0gYygyLCAyNSwgNTApCmYgPC0gZnVuY3Rpb24oeCl7CiAgZl94IDwtIDAuMip4XjExKigxMCooMS14KSleNisxMCooMTAqeCleMyooMS14KV4xMAogIHJldHVybihmX3gpCn0KdmFsdWVzIDwtIGRhdGFfZnJhbWUoCiAgeCA9IHNlcShmcm9tPTAsIHRvPTEsIGxlbmd0aD0xMDApLAogIGZfeCA9IGYoeCksCiAgZXBzaWxvbiA9IHJub3JtKDEwMCwgMCwgc2QgPSAyKSwKICB5ID0gZl94ICsgZXBzaWxvbgopCm92ZXJhbGwgPC0gTlVMTApmb3IoZGYgaW4gZGZfdmFsdWVzKXsKICBvdmVyYWxsIDwtIHNtb290aC5zcGxpbmUodmFsdWVzJHgsIHZhbHVlcyR5LCBkZj1kZikgJT4lCiAgICBhdWdtZW50KCkgJT4lCiAgICBtdXRhdGUoZGY9ZGYpICU+JQogICAgYmluZF9yb3dzKG92ZXJhbGwpCn0Kb3ZlcmFsbCA8LSBvdmVyYWxsICU+JSAKICBhc190aWJibGUoKQoKcGxvdDEgPC0gb3ZlcmFsbCAlPiUgCiAgZmlsdGVyKGRmID09IDIpICU+JSAKICBnZ3Bsb3QoYWVzKHg9eCkpICsKICBnZW9tX3BvaW50KGFlcyh5PXkpLCBzaXplPTAuNzUpICsKICBnZW9tX2xpbmUoYWVzKHk9LmZpdHRlZCksIGNvbD0iYmx1ZSIsIHNpemU9MC41KSArCiAgbGFicyh0aXRsZT0iUGxvdCAxOiBTcGxpbmVzIHdpdGggZGYgPSAyIikKCnBsb3QyIDwtIG92ZXJhbGwgJT4lIAogIGZpbHRlcihkZiA9PSAyNSkgJT4lIAogIGdncGxvdChhZXMoeD14KSkgKwogIGdlb21fcG9pbnQoYWVzKHk9eSksIHNpemU9MC43NSkgKwogIGdlb21fbGluZShhZXMoeT0uZml0dGVkKSwgY29sPSJibHVlIiwgc2l6ZT0wLjUpICsKICBsYWJzKHRpdGxlPSJQbG90IDI6IFNwbGluZXMgd2l0aCBkZiA9IDI1IikKCnBsb3QzIDwtIG92ZXJhbGwgJT4lIAogIGZpbHRlcihkZiA9PSA1MCkgJT4lIAogIGdncGxvdChhZXMoeD14KSkgKwogIGdlb21fcG9pbnQoYWVzKHk9eSksIHNpemU9MC43NSkgKwogIGdlb21fbGluZShhZXMoeT0uZml0dGVkKSwgY29sPSJibHVlIiwgc2l6ZT0wLjUpICsKICBsYWJzKHRpdGxlPSJQbG90IDM6IFNwbGluZXMgd2l0aCBkZiA9IDUwIikKCnBsb3Q0IDwtIG92ZXJhbGwgJT4lIAogIGZpbHRlcihkZiA9PSA1MCkgJT4lIAogIGdncGxvdChhZXMoeD14KSkgKwogIGdlb21fbGluZShhZXMoeT15KSwgY29sPSJibHVlIiwgc2l6ZT0wLjUpICsKICBnZW9tX3BvaW50KGFlcyh5PXkpLCBzaXplPTAuNzUpICsKICBsYWJzKHRpdGxlPSJQbG90IDQ6IEV4dHJlbWUgY2FzZSIpCgpncmlkLmFycmFuZ2UocGxvdDEsIHBsb3QyLCBwbG90MywgcGxvdDQsIG5yb3c9MikKYGBgCgojIyBDaGFsayB0YWxrCgoqIDIuNiBCaWFzLVZhcmlhbmNlIFRyYWRlLU9mZgoKCjwhLS0KCiogU2hvdyBzcGxpbmVzIGV4YW1wbGUgd2l0aCBwZXJmZWN0IGZpdAoqIEhpZ2ggYmlhcywgbG93IHZhcmlhYmlsaXR5CiogTG93IGJpYXMsIGhpZ2ggdmFyaWFiaWxpdHkKCi0tPgoKKioqCgoKCiMgMi41IEZlZWRiYWNrIG9uIFBTMDMgKyBNaWR0ZXJtIEkgUmV2aWV3CgojIyBNb24gMTAvMgoKQW5ub3VuY2VtZW50czoKCiogVmlhIFtHaXRIdWIKRWR1Y2F0aW9uXShodHRwczovL2VkdWNhdGlvbi5naXRodWIuY29tL2Rpc2NvdW50X3JlcXVlc3RzLzIxMDY0NjYvcGVyc29uYWxfZGV0YWlscykKZ2V0IGEgbnVtYmVyIG9mIGZyZWUgcHJpdmF0ZSByZXBvc2l0b3JpZXMgYW5kIG90aGVyIGJlbmVmaXRzLgoKCiMjIENoYWxrIHRhbGsKCiogMi41IE1pZHRlcm0gSSByZXZpZXcKKiAyLjUgW1Byb2JsZW0gc2V0IDNdKCNQUzAzKSBleGFtcGxlIHNvbHV0aW9ucwoKCgoqKioKCgoKIyAyLjQgRmVlZGJhY2sgb24gUFMwMgoKIyMgVGh1IDkvMjYKCkFubm91bmNlbWVudHM6CgoqIE5vdGUgbmV3ICJRdWlja3N0YXJ0IiB0YWIgaW4gbmF2IGJhci4gRm9yIGV2ZXJ5IG1vZGVsIHdlIHNlZSBpdCB3aWxsIGNvbnRhaW4gaW5wdXQvb3V0cHV0L2NvZGUgaW5mbyBmb3I6CiAgICArIEZpdHRpbmcgbW9kZWwKICAgICsgTWFraW5nIHByZWRpY3Rpb25zCiogQ29tcHMgYW5kIGZpbmFsIHByb2plY3QgaW5mb3JtYXRpb24KICAgICsgQ29tcHMgaW5mb3JtYXRpb24gd2lsbCBiZSBtYWlsZWQgb3V0IE9jdCAxMHRoIG9yIDExdGguCiAgICArIFByb2YuIEFteSBXYWdhbWFuIHdpbGwgYmUgY29taW5nIHRvIGNsYXNzIG9uIFR1ZSAxMC8xNyB0byBhbnN3ZXIgYW55IHF1ZXN0aW9ucyBhYm91dCBjb21wcy4KICAgICsgRmluYWwgcHJvamVjdCBpbmZvcm1hdGlvbiB3aWxsIGJlIGZpbmFsaXplZCBhcm91bmQgdGhlc2UgZGF0ZXMuCiogSW5mb3JtYXRpb24gc2Vzc2lvbiBmb3Igc3RhdGlzdGljcyBhbmQgYmlvc3RhdGlzdGljcyBncnFkdWF0ZSBwcm9ncmFtcwogICAgKyBXaGVyZTogTWVycmlsbCAzMDBBLgogICAgKyBXaGVuOiBGcmlkYXksIE9jdG9iZXIgNiAxMjowMCBwbS4gQSBsaWdodCBsdW5jaCB3aWxsIGJlIHNlcnZlZC4KICAgICsgTW9yZSBpbmZvcm1hdGlvbiBbaGVyZV0oc3RhdGljL1N0YXRzR3JhZFNjaG9vbEluZm9PY3QyMDE3LnBkZikuCiogUGxvdGx5IGV4YW1wbGUKCmBgYHtyfQpsaWJyYXJ5KHRpZHl2ZXJzZSkKbGlicmFyeShwbG90bHkpCmxpYnJhcnkobnljZmxpZ2h0czEzKQpmbGlnaHRzX3NhbXBsZSA8LSBmbGlnaHRzICU+JSAKICBzYW1wbGVfbigxMDApCmRlbGF5c19wbG90IDwtIGdncGxvdChmbGlnaHRzX3NhbXBsZSwgYWVzKHg9ZGVwX2RlbGF5LCB5PWFycl9kZWxheSkpICsKICBnZW9tX3BvaW50KCkKIyBIb3ZlciB5b3VyIG1vdXNlIG92ZXIgdGhlIHJlc3VsdGluZyBwbG90CmdncGxvdGx5KGRlbGF5c19wbG90KQpgYGAKCgojIyBDaGFsayB0YWxrCgpbUHJvYmxlbSBzZXQgMl0oI1BTMDIpIGZlZWRiYWNrCgoKIyMgUHJvYmxlbSBzZXQgMwoKTG9vayBhdCB0aGUgaW1hZ2UgZm9yIFtQcm9ibGVtIHNldCAzXSgjUFMwMyksIGFuZCB0aGVuIGFuc3dlciB0aGVzZSB0d28gcXVlc3Rpb25zCndpdGggeW91ciBzZWF0bWF0ZXMuCgpgYGB7ciwgZXZhbD1GQUxTRX0KbGlicmFyeSh0aWR5dmVyc2UpCgptdGNhcnMgPC0gbXRjYXJzICU+JSAKICAjIEEgdGliYmxlIGlzIHZlcnkgc2ltaWxhciB0byBhIGRhdGEgZnJhbWUsIGJ1dCB3aGVuIHlvdSB2aWV3IGl0cyBjb250ZW50cwogICMgaW4gdGhlIGNvbnNvbGUsIGl0IG9ubHkgcHJpbnRzIG91dCBhYm91dCAzMCByb3dzCiAgYXNfdGliYmxlKCkgJT4lIAogIG11dGF0ZShJRCA9IDE6bigpKSAlPiUgCiAgc2VsZWN0KElELCBtcGcsIGhwKQoKIyBOdW1iZXIgb2YgZm9sZHMKayA8LSA1CgojIFExOiBXaGF0J3MgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGVzZSB0d28gaW4gdGVybXMgb2YgY3Jvc3N2YWxpZGF0aW9uPwojIEhpbnQ6IHRhYmxlKCkgZnVuY3Rpb24gdG8gZ2V0IGZyZXF1ZW5jeSB0YWJsZQpmb2xkX3NjaGVtZV8xIDwtIHNhbXBsZSgxOmssIHNpemU9bnJvdyhtdGNhcnMpLCByZXBsYWNlID0gVFJVRSkKZm9sZF9zY2hlbWVfMiA8LSByZXAoMTprLCBsZW49bnJvdyhtdGNhcnMpKQoKIyBBMToKIyAtZm9sZF9zY2hlbWVfMiBoYXMgcm91Z2hseSBlcXVhbCBudW1iZXJzIG9mIG9ic2VydmF0aW9ucyBpbiBlYWNoIGZvbGQKIyAtZm9sZF9zY2hlbWVfMSBvbmx5IGhhcyBlcXVhbCBudW1iZXJzIG9mIG9ic2VydmF0aW9ucyBpbiBlYWNoIGZvbGQgaW4gCiMgZXhwZWN0YXRpb24KdGFibGUoZm9sZF9zY2hlbWVfMSk7IHRhYmxlKGZvbGRfc2NoZW1lXzIpCgptdGNhcnMgJT4lIAogICMgUTI6IFdoeSBkbyB3ZSBzYW1wbGVfZnJhYyAxMDAlIGZpcnN0PwogIHNhbXBsZV9mcmFjKDEpICU+JSAKICBtdXRhdGUoZm9sZCA9IHJlcCgxOmssIGxlbj1uKCkpKQoKIyBBMTogVGhpcyBlZmZlY3RpdmVseSByYW5kb21pemVzIHRoZSBmb2xkIGFzc2lnbm1lbnQgYnkgZmlyc3Qgc2h1ZmZsaW5nIHRoZQojIHJvd3MuIFNheSB3ZSBkaWRuJ3QgZG8gdGhpcyBhbmQgbXRjYXJzIGhhZCBhbiBpbmhlcmVudCBvcmRlcmluZyB0byBpdD8KIyBUaGVuIG91ciBmb2xkIGFzc2lnbm1lbnQgd291bGQgbm90IGJlIGF0IHJhbmRvbSEKYGBgCgoKKioqCgoKCgojIFByb2JsZW0gc2V0IDQgeyNQUzA0fQoKIyMgSW5mb3JtYXRpb24KCipBc3NpZ25lZCBvbiBUdWUgOS8yNiwgZHVlIG9uIFR1ZSAxMC8zIDlhbSBhdCB3aGljaCBwb2ludCB0aGVyZSB3aWxsIGJlIHN5bmNocm9uaXplZCBwdWxsIHJlcXVlc3RzLioKCllvdSB3aWxsIGZpdCB5b3VyIGZpcnN0IG1vZGVsIHdpdGggbXVsdGlwbGUgcHJlZGljdG9ycyEKCiogRGV0YWlsczoKICAgICsgVGVhbXM6IEluZGl2aWR1YWwKICAgICsgUHJlc2VudGF0aW9uOiBEb25lCiAgICArIFJldmlzaW9uIHJvdW5kOiBOb25lCiogRGVsaXZlcmFibGVzOiBPbmUgcmVhZHkgdG8gc3VibWl0ICpwdWxsIHJlcXVlc3QqIHRvIHRoZSBbUFMwNCByZXBvXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUFMwNCkgKHJlY2FsbCB0aGUgR2l0SHViIFtzdWJtaXNzaW9uIHByb2Nlc3NdKGh0dHBzOi8vZ2l0aHViLmNvbS8yMDE3LTA5LUFtaGVyc3QtU1RBVDQ5NS9SRUFETUUjcHJvYmxlbS1zZXQtc3VibWlzc2lvbi1wcm9jZXNzKSkuIEF0IHRoZSB2ZXJ5IGxlYXN0LCB0aGUgZm9sbG93aW5nIGZpbGVzIHNob3VsZCBiZSBtb2RpZmllZC9hZGRlZDoKICAgIDEuIGBQUzA0LlJtZGA6IFlvdXIgd29yawogICAgMS4gYFBTMDQuaHRtbGA6IFRoZSBvdXRwdXQgb2YgYFBTMDQuUm1kYC4KICAgIDEuIGBSRUFETUUubWRgOiBDaGFuZ2UgYHJ1ZGVib3liZXJ0YCBpbiB0aGUgVVJMIHRvIHRoZSBHaXRIdWIgSUQgc28gdGhhdCB5b3UgY2FuIG9wZW4gYFBTMDQuaHRtbGAgaW4gYSBicm93c2VyLgoKCiMjIEZlZWRiYWNrCgoKIyMgRXhhbXBsZSBzb2x1dGlvbnMKCgoKKioqCgoKCiMgMi4zIFJlZ3Jlc3Npb24gZm9yIHByZWRpY3Rpb24KCiMjIFR1ZSA5LzI2CgpBbm5vdW5jZW1lbnRzOgoKKiBTaW5jZSB0aGVyZSBhcmUgbm8gcHJlc2VudGF0aW9ucy9kaXNjdXNzaW9ucyB0b2RheSBmb3IgUFMwMywgbm8gcmV2aXNpb25zIGR1ZSBvbiBUaHVyc2RheS4KKiBQdWxsIHJlcXVlc3QgaXMgbm93IGR1ZSBhdCA1cG0gdG9kYXkuCiogRXh0cmEgb2ZmaWNlIGhvdXJzIHRvZGF5IGZyb20gMTozMC0zcG0gaW4gU2VlbGV5IE11ZGQgMjA4LgoqIEluc3RhbGwgYHBsb3RseWAgcGFja2FnZQoKIyMgQ2hhbGsgdGFsawoKMi4zIFJlZ3Jlc3Npb24gZm9yIHByZWRpY3Rpb24KCgojIyBSZWdyZXNzaW9uIHF1aWNrc3RhcnQgZ3VpZGUKCk1vdmVkIHRvIFtRdWlja3N0YXJ0XShxdWlja3N0YXJ0Lmh0bWwjcmVncmVzc2lvbl92aWFfbG0pIHRhYiBhYm92ZS4KCgoKIyMgRURBIG9mIHByb2JsZW0gc2V0IDQgZGF0YSArIFNoaW55IGFwcAoKTGV0J3MgZG8gYW4gZXhwbG9yYXRvcnkgZGF0YSBhbmFseXNpcyBvZiB0aGUgZGF0YSBmb3IgcHJvYmxlbSBzZXQgNC4gRm9yICRpPTEsIFxsZG90cywgNDAwJCBpbmRpdmlkdWFscywgd2UgYXJlIGludGVyZXN0ZWQgaW4gdGhlaXIgY3JlZGl0CmNhcmQgYmFsYW5jZS4gQWxhcywgbm8gc2FtcGxpbmcgaW5mb3JtYXRpb24gaXMgcHJvdmlkZWQsIHNvIHdlIGNhbid0IG1ha2UgYW55IHN0YXRlbWVudHMgb24gdGhlIGdlbmVyYWxpemFiaWxpdHkgb2YgdGhpcyBhbmFseXNpcy4gUmVjYWxsIG91ciBtb2RlbCBmb3JtdWxhdGlvbjogJHlfaSA9IGYoXHZlY3t4fV9pKSArIFxlcHNpbG9uX2kkOgoKKiAkeV9pJDogQ3JlZGl0IGNhcmQgYmFsYW5jZQoqICR4X3sxLGl9JDogSW5jb21lIGluICQxMEsKKiAkeF97MixpfSQ6IENyZWRpdCBsaW1pdCBpbiAkCiogJHhfezMsaX0kOiBDcmVkaXQgcmF0aW5nCiogJHhfezQsaX0kOiBBZ2UKKiAkeF97NSxpfSQ6IE51bWJlciBvZiBjcmVkaXQgY2FyZHMKKiAkeF97NixpfSQ6IFllYXJzIG9mIGVkdWNhdGlvbgoKYGBge3IsIGV2YWw9RkFMU0V9CmxpYnJhcnkodGlkeXZlcnNlKQpjcmVkaXQgPC0gcmVhZF9jc3YoImh0dHA6Ly93d3ctYmNmLnVzYy5lZHUvfmdhcmV0aC9JU0wvQ3JlZGl0LmNzdiIpICU+JQogIHNlbGVjdCgtWDEpICU+JQogIG11dGF0ZShJRCA9IDE6bigpKSAlPiUgCiAgc2VsZWN0KElELCBCYWxhbmNlLCBJbmNvbWUsIExpbWl0LCBSYXRpbmcsIEFnZSwgQ2FyZHMsIEVkdWNhdGlvbikKYGBgCgpSZWFkIHRoZSBjb250ZW50cyBvZiB0aGlzIFtTaGlueSBBcHBdKGh0dHBzOi8vYmV0YS5yc3R1ZGlvY29ubmVjdC5jb20vY29ubmVjdC8jL2FwcHMvMjY5Mi9hY2Nlc3MpIHVwIHRvIGp1c3QgYmVmb3JlICJTaHJpbmtpbmcgJFxiZXRhJCBDb2VmZmljaWVudHMgdmlhIExBU1NPIiAod2hpY2ggd2Ugd2lsbCBjb3ZlciBsYXRlcikuCgoKCgoqKioKCgoKIyAyLjIgQSBzdGVwIGJhY2s6IFN0aXRjaEZpeAoKIyMgTW9uIDkvNQoKQW5ub3VuY2VtZW50czoKCiogRXhwbGFpbiBHaXRIdWIgY29sbGFib3JhdG9yIHZzIEdpdEh1YiBwdWxsIHJlcXVlc3QKKiBQcm9ibGVtIHNldCAwMiBmZWVkYmFjayBhbmQgZXhhbXBsZSBzb2x1dGlvbnMgZ2l2ZW4gdG9tb3Jyb3cuCiogVG9kYXk6IDIuMiB+flJlZ3Jlc3Npb24gZm9yIHByZWRpY3Rpb25+fiBBIHN0ZXAgYmFjawoKCiMjIENoYWxrIHRhbGsKCjIuMiBBIHN0ZXAgYmFjay4gUmVjYWxsIG91ciAicHJvamVjdGlvbiBvbnRvIHRoZSBzaGVldCIgZXhlcmNpc2UKCgoKIyMgU3RpdGNoRml4CgoqIERpc2Nsb3N1cmU6IEknbSBub3QgYmVpbmcgY29tcGVuc2F0ZWQgYnkgU3RpdGNoRml4LgoqIEZpbGVkIGZvciBhbiBJUE8gKHRvIHN0YXJ0IHRyYWRpbmcgb24gdGhlIHN0b2NrIG1hcmtldCkgaW4gW0p1bHkgMjAxN10oaHR0cHM6Ly93d3cucmVjb2RlLm5ldC8yMDE3LzcvMjkvMTYwNTkxNDAvc3RpdGNoLWZpeC1kZWxpdmVyeS1jbG90aGluZy1pcG8tZmlsaW5nLWNlby1rYXRyaW5hLWxha2UpLgoqIEZlYXR1cmUgb24gR29vZCBNb3JuaW5nIEFtZXJpY2E7IHdhdGNoIGl0IHRocnUgdGhlIGxlbnMgb2YKICAgICsgJHk9ZihcdmVje3h9KStcZXBzaWxvbiQKICAgICsgV2hhdCBtYWNoaW5lIGxlYXJuaW5nL2RhdGEgc2NpZW5jZSB0cmllcyB0byBkbyAgCgo8YSBocmVmPSJodHRwOi8vYWJjbmV3cy5nby5jb20vTGlmZXN0eWxlL2Nsb3RoaW5nLWJveC1zZXJ2aWNlcy1zdGl0Y2gtZml4LXdhbnRhYmxlLWRpYS9zdG9yeT9pZD00OTc5NDM0NyI+CjxpbWcgYm9yZGVyPSIwIiBhbHQ9IkdNQSIgc3JjPSJpbWFnZXMvR01BLnBuZyIgd2lkdGg9IjYwMCI+CjwvYT4KCgoKIyMgVG9kYXkncyBleGVyY2lzZQoKMS4gR28gdG8gU3RpdGNoIEZpeCBhbmQgaW5kaXZpZHVhbGx5IGNvbXBsZXRlIHRoZSAic3R5bGUgcXVpeiIgZm9yIHlvdXIgZ2VuZGVyOyBJIGp1c3QgbGlrZSB0aGVpciBhcHByb2FjaCAodGhlaXIgW2Jsb2ddKGh0dHA6Ly9tdWx0aXRocmVhZGVkLnN0aXRjaGZpeC5jb20vYmxvZy8pIGZvciBleGFtcGxlKS4KMS4gTG9nIG91dCBhbmQgdXNpbmcgYSBkaWZmZXJlbnQgZW1haWwgYWRkcmVzcyBjb21wbGV0ZSB0aGUgInN0eWxlIHF1aXoiIGZvciB0aGUgKm9wcG9zaXRlKiBnZW5kZXIgYW5kIG5vdGUgdGhlIG1ham9yIGRpZmZlcmVuY2VzLgoxLiBTaG91dCBvdXQgdG8gSmVmZiBMIGZvciA8aHR0cHM6Ly8xMG1pbnV0ZW1haWwuY29tLz4KMS4gQ29tbXVuaWNhdGUgd2l0aCB5b3VyIHNlYXRtYXRlcyBldmVyeSBzdGVwIG9mIHRoZSB3YXk7IEknbGwgcG9sbCBzb21lIGdyb3VwcyBmb3IgdGhlaXIgb2JzZXJ2YXRpb25zLgoxLiBBZ2FpbiwgdmlldyBhbGwgdGhpcyB0aHJ1IHRoZSBsZW5zIG9mOgogICAgKyAkeT1mKFx2ZWN7eH0pK1xlcHNpbG9uJAogICAgKyBXaGF0IG1hY2hpbmUgbGVhcm5pbmcvZGF0YSBzY2llbmNlIHRyaWVzIHRvIGRvICAKCgoKCgojIyBJbXBvcnRhbnQgcXVlc3Rpb25zCgoqIFRoZSAqKmV0aGljcyoqIG9mIFN0aXRjaEZpeCBhbmQgcHJlZGljdGl2ZSBtYWNoaW5lIGxlYXJuaW5nIGluIGdlbmVyYWw6IFdoYXQgYXJlIHdlIHByZWRpY3RpbmcsIGJ1dCBhbHNvIHdoYXQgYXJlIHdlICpyZWluZm9yY2luZyo/CiogTGF0ZXIgaW4gY291cnNlOiBbV2VhcG9ucyBvZiBNYXRoIERlc3RydWN0aW9uXShodHRwczovL3dlYXBvbnNvZm1hdGhkZXN0cnVjdGlvbmJvb2suY29tLykuCgo8aW1nIGJvcmRlcj0iMCIgc3JjPSJodHRwczovL2ltYWdlcy1uYS5zc2wtaW1hZ2VzLWFtYXpvbi5jb20vaW1hZ2VzL0kvNTFlVXctdjBYJTJCTC5fU1gzMjlfQk8xLDIwNCwyMDMsMjAwXy5qcGciIHdpZHRoPSIyNTAiPgoKCgoKCgoqKioKCgoKIyAyLjEgTG9jYWwgcmVncmVzc2lvbiAoTE9FU1MpCgojIyBUaHUgOS8yMQoKQmVmb3JlIGNsYXNzOgoKKiBJbnN0YWxsIHRoZSBmb2xsb3dpbmcgcGFja2FnZXM6CiAgICArIFtgZml2ZXRoaXJ0eWVpZ2h0YF0oaHR0cHM6Ly9ydWRlYm95YmVydC5naXRodWIuaW8vZml2ZXRoaXJ0eWVpZ2h0Lyk6IERhdGEKICAgIGZyb20gdGhlIGFydGljbGVzIG9uIEZpdmVUaGlydHlFaWdodAogICAgKyBbYG55Y2ZsaWdodHMxM2BdKGh0dHBzOi8vZ2l0aHViLmNvbS9oYWRsZXkvbnljZmxpZ2h0czEzKTogSW5mbwogICAgZm9yIGFsbCAzMzZLIGRvbWVzdGljIGZsaWdodHMgdGhhdCBsZWZ0IGFuIE5ZQyBhaXJwb3J0IGluIDIwMTMgKEpGSywgRVdSLCBvcgogICAgTEdBKQoqIEFDIHN0dWRlbnRzOiBTdGFydCBuZXR3b3JraW5nISBIYXZlIHlvdXIgbmFtZSBhbmQgTGlua2VkSW4gcHJvZmlsZSBhcHBlYXIgb24gCnRoZSBbQW1oZXJzdCB3ZWJzaXRlXShodHRwczovL3d3dy5hbWhlcnN0LmVkdS9hY2FkZW1pY2xpZmUvZGVwYXJ0bWVudHMvbWF0aGVtYXRpY3Mtc3RhdGlzdGljcy9hbHVtbmkvYWx1bW5pLWxpbmtzKSBieSBmaWxsaW5nIG91dCB0aGlzIFtHb29nbGUgRm9ybV0oaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZm9ybXMvZC8xTFcxRTUwd1hWR1czLUkwOTQ5cHZSbnFybTdNOEU1bmZBRFFXbHgxWUNQYy9lZGl0KS4gUmVjcnVpdGVycyBwYXkgYHIgZW1vOjpqaSgiZG9sbGFyIilgYHIgZW1vOjpqaSgibW9uZXkiKWBgciBlbW86OmppKCJjdXJyZW5jeSIpYCB0byBMaW5rZWRJbiB0byBiZSBhYmxlIHRvIGRvIAp0YXJnZXRlZCBgciBlbW86OmppKCJzZWFyY2giKWBzIG9mIHBvdGVudGlhbCBoaXJlcyEKCkFubm91bmNlbWVudHM6CgoqIEFtaGVyc3QgQ29sbGVnZSBEZXBhcnRtZW50IG9mIE1hdGhlbWF0aWNzIGFuZCBTdGF0aXN0aWNzIEFtaGVyc3QgQ29sbGVnZSBTdGF0aXN0aWNzIENvbGxvcXVpYSB0b25pZ2h0LiAKICAgICsgVGl0bGU6IExlc3NvbnMgZm9yIG9mZmljaWFsIHN0YXRpc3RpY3MgcHJvZHVjdGlvbiBhcm91bmQgdGhlIHdvcmxkIGZyb20gdGhlIGV4cGVyaWVuY2Ugb2YgR3JlZWNlCiAgICArIFNwZWFrZXI6IEFuZHJlYXMgR2Vvcmdpb3Ug4oCYODMsIFZpc2l0aW5nIExlY3R1cmVyIGluIEVjb25vbWljcyBBbWhlcnN0IENvbGxlZ2UgKFtzcGVha2VyIGJhY2tncm91bmRdKGh0dHBzOi8vd3d3LmFtaGVyc3QuZWR1L2FjYWRlbWljbGlmZS9kZXBhcnRtZW50cy9tYXRoZW1hdGljcy1zdGF0aXN0aWNzL25ld3MpKQogICAgKyBXaGVuL3doZXJlOiBUaHVyc2RheSwgU2VwdGVtYmVyIDIxLCAyMDE3IDc6MDAgcG0gaW4gU2VlbGV5IE11ZGQgMjA2LiAKICAgICsgQWJzdHJhY3Q6IFRoZSBzZW1pbmFyIHdpbGwgYWRkcmVzcyB3aGF0IGxlc3NvbnMgY2FuIGJlIGdsZWFuZWQgZnJvbSB0aGUgZXhwZXJpZW5jZSB3aXRoIG9mZmljaWFsIHN0YXRpc3RpY3MgcHJvZHVjdGlvbiBpbiBHcmVlY2UsIGJvdGggaW4gdGhlIHBlcmlvZCB1cCB0byB0aGUgb25zZXQgb2YgdGhlIGRlYnQgY3Jpc2lzIGFuZCBzaW5jZSB0aGVuLiBUaGUgc2VtaW5hciB3aWxsIGRpc2N1c3MgbGVzc29ucyBhYm91dCB0aGUgYXBwcm9wcmlhdGUgaW5zdGl0dXRpb25hbCBzZXR0aW5nLCBsZWdhbCBmcmFtZXdvcmssIHN0YXRpc3RpY2FsIGN1bHR1cmUgYW5kIHN0YXRpc3RpY2FsIHByYWN0aWNlcy4KKiBVcGRhdGVkL2NsYXJpZmllZCBzeWxsYWJ1cyB0byByZWZsZWN0OgogICAgKyBUeXBpY2FsIHByb2JsZW0gc2V0IHRpbWVsaW5lIHVuZGVyIHByb2JsZW0gc2V0cwogICAgKyBFeHBlY3RhdGlvbnMgb24gcmVhZGluZ3MgdW5kZXIgbWF0ZXJpYWxzL3JlYWRpbmdzCiogQWRkIHRvICRrPTIkIENWIHBzZXVkb2NvZGUgY2hhbGsgdGFsayBmcm9tIExlYyAxLjc6IHVzaW5nIHJlc3VsdHMgb2YgQ1YgdG8KdGhlbiBtYWtlIGFwcHJvcHJpYXRlIHByZWRpY3Rpb25zLgoqIFN0YXJ0aW5nIHRvcGljIDIgdG9kYXk6IENvbnRpbnVvdXMgb3V0Y29tZXMgcGFydCBJLiAgV2UnbGwgY29tZSBiYWNrIHRvIHRoZQpmaW5hbCBzdWJ0b3BpYyBvZiB0b3BpYyAxLCB0aGUgYmlhcy12YXJpYW5jZSB0cmFkZW9mZiwgbGF0ZXIuCgoKIyMgRGlncmVzc2lvbjogQ2hhbGsgdGFsawoKMi4xOiAkXGxvZygpJCBhbmQgJFxsb2dfezEwfSgpJCB0cmFuc2Zvcm1hdGlvbnMuCgoKIyMgRGlncmVzc2lvbjogVGhlIGltcG9ydGFuY2Ugb2YgbG9nLXRyYW5zZm9ybWF0aW9ucwoKTGV0J3MgY29uc2lkZXIgYSBzZXQgb2YgcG9zdC0yMDAwIG1vdmllcyBmcm9tIHRoZSBgYmVjaGRlbGAgZGF0YSBzZXQgKHR5cGUgYD9iZWNoZGVsYCBmb3IKZGV0YWlscykgYW5kIHBsb3Q6CgoqIHgtYXhpczogbW92aWUgYnVkZ2V0IChpbiAyMDEzLWluZmxhdGlvbiBhZGp1c3RlZCBVUyBkb2xsYXJzKQoqIHktYXhpczogZG9tZXN0aWMgZ3Jvc3MgKGluIDIwMTMtaW5mbGF0aW9uIGFkanVzdGVkIFVTIGRvbGxhcnMpCgpgYGB7ciwgZmlnLmhlaWdodD05LzIuNSwgZmlnLndpZHRoPTE2LzIuNX0KbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkoZml2ZXRoaXJ0eWVpZ2h0KQpiZWNoZGVsXzIwMDAgPC0gYmVjaGRlbCAlPiUgCiAgZmlsdGVyKHllYXIgPj0gMjAwMCkKZ2dwbG90KGJlY2hkZWxfMjAwMCwgYWVzKHg9YnVkZ2V0XzIwMTMsIHk9ZG9tZ3Jvc3NfMjAxMykpICsKICBnZW9tX3BvaW50KCkgKwogIGxhYnMoeD0iQnVkZ2V0IiwgeT0iRG9tZXN0aWMgR3Jvc3MiKQpgYGAKCldlIHNlZSB0aGVyZSBpcyBhIHJpZ2h0LXNrZXcgdG8gYm90aCB0aGUgeCBhbmQgeS12YWx1ZXMuIFRoaXMgaXMgYmVjYXVzZSB3ZSBhcmUKY29tcGFyaW5nIGJpZyBidWRnZXQgSG9sbHl3b29kIGJsb2NrYnVzdGVycyB3aXRoIChsaWtlbHkpIGxvd2VyIGJ1ZGdldAppbmRlcGVuZGVudCBmaWxtcy4gSGVuY2UsIGl0J3MgcmVhbGx5IGhhcmQgdG8gc2VlIHdoYXQncyBnb2luZyBvbiBhdCB0aGUKbG93ZXItZW5kIG9mIHRoZSBidWRnZXQgc2NhbGUuIExldCdzIHVuc2tldyBib3RoIHZhcmlhYmxlcyBhbmQgY29tcGFyZSBub3QKKmFic29sdXRlKiBkaWZmZXJlbmNlcywgYnV0IHJhdGhlciwgKnJlbGF0aXZlKiBkaWZmZXJlbmNlcyBpLmUuIGRpZmZlcmVuY2VzIGluCiJvcmRlciBvZiBtYWduaXR1ZGUiIHVzaW5nIGEgYGxvZzEwKClgIHRyYW5zZm9ybWF0aW9uOgoKYGBge3IsIGZpZy5oZWlnaHQ9OS8yLjUsIGZpZy53aWR0aD0xNi8yLjV9CmdncGxvdChiZWNoZGVsXzIwMDAsIGFlcyh4PWxvZzEwKGJ1ZGdldF8yMDEzKSwgeT1sb2cxMChkb21ncm9zc18yMDEzKSkpICsKICBnZW9tX3BvaW50KCkgKwogIGxhYnMoeD0ibG9nMTAoQnVkZ2V0KSIsIHk9ImxvZzEwKERvbWVzdGljIEdyb3NzKSIpCmBgYAoKV2UgY2FuIHNlZSBhIGxpdHRsZSBiZXR0ZXIgd2hhdCdzIGdvaW5nIG9uIGF0IHRoZSBsb3dlciBlbmQgb2YgdGhlIGJ1ZGdldCBzY2FsZS4KSG93ZXZlciB0aGUgdmFsdWVzIG9uIHRoZSBheGVzIHJlcXVpcmUgYSBsaXR0bGUgdGhpbmtpbmcgdG8gcHJvY2Vzcy4gRm9yIGV4YW1wbGUKYXQgJHg9NyQsIHRoaXMgY29ycmVzcG9uZHMgdG8gbW92aWVzIHdpdGggYSBidWRnZXQgb2YgJDEwXjcgPSAxMCwwMDAsMDAwJApkb2xsYXJzLiBTbyBpbnN0ZWFkLCBsZXQncyAqcmVzY2FsZSogYm90aCBheGVzIHNvIHRoYXQgdGhleSBkaXNwbGF5IHRoZSBkYXRhIGluCnRoZWlyIG9yaWdpbmFsIHVuaXRzLgoKYGBge3IsIGZpZy5oZWlnaHQ9OS8yLjUsIGZpZy53aWR0aD0xNi8yLjV9CmdncGxvdChiZWNoZGVsXzIwMDAsIGFlcyh4PWJ1ZGdldF8yMDEzLCB5PWRvbWdyb3NzXzIwMTMpKSArCiAgZ2VvbV9wb2ludCgpICsKICBzY2FsZV94X2xvZzEwKCkgKwogIHNjYWxlX3lfbG9nMTAoKSArCiAgbGFicyh4PSJCdWRnZXQgKGxvZzEwLXNjYWxlKSIsIHk9IkRvbWVzdGljIEdyb3NzIChsb2cxMC1zY2FsZSkiKQpgYGAKCk5vdGUgdGhhdAoKKiBUaGUgdHdvIHBsb3RzIGFyZSBpZGVudGljYWwsIGJ1dCB0aGUgdmFsdWVzIG9uIHRoZSBheGVzIGFyZSBkaWZmZXJlbnQuCiogSW4gdGhlIHJlc2NhbGVkIHggYW5kIHkgYXhlcyBwbG90LCBlcXVpdmFsZW50IGRpc3RhbmNlcyBvbiBlYWNoIGF4ZXMgY29ycmVzcG9uZCB0byBub3QgZXF1aXZhbGVudCBhYnNvbHV0ZSBkaWZmZXJlbmNlcywgYnV0IGVxdWl2YWxlbnQgcmVsYXRpdmUvbXVsdGlwbGljYXRpdmUgZGlmZmVyZW5jZXMuIFNvIGZvciBleGFtcGxlLCB0aGUgaG9yaXpvbnRhbCBkaXN0YW5jZSBvbiB0aGUgcGxvdCBmcm9tIEJ1ZGdldCA9IGAxZSswNWAgPSAkMTBeNSQgdG8gQnVkZ2V0ICA9IGAxZSswNmAgPSAkMTBeNiQgaXMgZXF1YWwgdG8gdGhlIGhvcml6b250YWwgZGlzdGFuY2Ugb24gdGhlIHBsb3QgZnJvbSBCdWRnZXQgPSBgMWUrMDZgID0gJDEwXjYkIHRvIEJ1ZGdldCA9IGAxZSswN2AgPSAkMTBeNyQuCgoKIyMgTG9jYWwgcmVncmVzc2lvbjogZXhlY3V0aXZlIHN1bW1hcnkgdmlhIGAuZ2lmYAoKPGltZyBib3JkZXI9IjAiIHNyYz0iaW1hZ2VzL2xvZXNzLmdpZiIgaGVpZ2h0PSI0MDAiPgoKCiMjIENoYWxrIHRhbGsKCjIuMSBMb2NhbCByZWdyZXNzaW9uIGkuZS4gTE9FU1MgQUtBIExPV0VTUyAKCkNvcnJlc3BvbmRpbmcgYm9vayBjaGFwdGVycwoKKiBJU0xSOiA3LjYKKiBDQVNJOiAxOS44CgojIyBVc2luZyBgbG9lc3MoKWAKCkxldCdzIGZpdCBhIExPRVNTIHNtb290aGVyIG1vZGVsIHRvIAoKKiB4OiAodG9wIG9mIHRoZSBob3VyKSB0ZW1wZXJhdHVyZSByZWNvcmRlZCBmb3IgZmxpZ2h0CiogeTogZGVwYXJ0dXJlIGRlbGF5IGZvciBmbGlnaHQKCm9uIDEwMDAgcmFuZG9tbHkgc2FtcGxlZCBmbGlnaHRzIHdob3NlICh4LHkpIHZhbHVlcyBhcmVuJ3QgbWlzc2luZy4gQ29tbWFuZHM6CgoqIEZpdCBhIG1vZGVsOiBgbG9lc3MoeX54LCBkYXRhKWAgKE5vdGUgdGhlcmUgaXMgYWxzbyBhIGBsb3dlc3MoKWAgY29tbWFuZCwgYnV0IEFGQUlLIHRoZXJlIGlzIG5vIGNvbnZlbmllbnQgYHByZWRpY3QoKWAgZnVuY3Rpb24pLgoqIFByZWRpY3QgYmFzZWQgb24gYSBtb2RlbDogYHByZWRpY3QobW9kZWxfbG9lc3MsIG5ld2RhdGEpYAoKYGBge3IsIGV2YWw9RkFMU0V9CiMgSW5zdGFsbCB0aGlzIHBhY2thZ2U6CmxpYnJhcnkodGlkeXZlcnNlKQpsaWJyYXJ5KG55Y2ZsaWdodHMxMykKbGlicmFyeShicm9vbSkKCiMgTGV0J3Mgam9pbiBmbGlnaHQgYW5kIGpvaW4gaXQgd2l0aCB3ZWF0aGVyIGRhdGEgYWZ0ZXIgc2V0dGluZyB0aGUgc2VlZCB2YWx1ZQojIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IgdG8gZW5zdXJlIHdlIGhhdmUgInJlcGxpY2FibGUgcmFuZG9tbmVzcyIKc2V0LnNlZWQoNzYpCmZsaWdodHNfc2FtcGxlIDwtIGZsaWdodHMgJT4lIAogIGxlZnRfam9pbih3ZWF0aGVyLCBieT1jKCJtb250aCIsICJkYXkiLCAiaG91ciIsICJvcmlnaW4iKSkgJT4lCiAgZmlsdGVyKCFpcy5uYShkZXBfZGVsYXkpICYgIWlzLm5hKHRlbXApKSAlPiUgCiAgc2FtcGxlX24oMTAwMCkgJT4lIAogIHNlbGVjdCh0ZW1wLCBkZXBfZGVsYXkpICU+JSAKICBtdXRhdGUoSUQgPSAxOm4oKSkKCiMgQ3JlYXRlIGRpc2pvaW50IHRyYWluaW5nIGFuZCB0ZXN0IGRhdGEgc2V0cyBvZiBzaXplIDUwMCBlYWNoOiAgCmZsaWdodHNfc2FtcGxlX3RyYWluIDwtIGZsaWdodHNfc2FtcGxlICU+JSAKICBzYW1wbGVfbig1MDApCmZsaWdodHNfc2FtcGxlX3Rlc3QgPC0gZmxpZ2h0c19zYW1wbGUgJT4lIAogIGFudGlfam9pbihmbGlnaHRzX3NhbXBsZV90cmFpbiwgYnk9IklEIikKCiMgMS4gRml0IG1vZGVsCm1vZGVsX2xvZXNzIDwtIGxvZXNzKGRlcF9kZWxheSB+IHRlbXAsIGRhdGE9ZmxpZ2h0c19zYW1wbGVfdHJhaW4pCgojIFRoZSBuZXh0IHR3byBsaW5lcyB0YWtlIHRoZSBmaXR0ZWQgbW9kZWwgYW5kIG91dHB1dCBhIGRhdGEgZnJhbWUgd2l0aCB0aGUgCiMgb3JpZ2luYWwgKHgseSkgdmFsdWVzLCBidXQgYWxzbwojICogeV9oYXQgaW4gdGhlIGNvbHVtbiAuZml0dGVkLgojICogeSAtIHlfaGF0ID0gcmVzaWR1YWwgaW4gdGhlIGNvbHVtbiAucmVzaWRlCiMgWW91IGNhbiBpZ25vcmUgdGhlIHdhcm5pbmdzIGFib3V0IHB1cnJyCm1vZGVsX2xvZXNzX2RmIDwtIG1vZGVsX2xvZXNzICU+JSAKICBicm9vbTo6YXVnbWVudCgpClZpZXcobW9kZWxfbG9lc3NfZGYpCgojIFBsb3QKZ2dwbG90KG1vZGVsX2xvZXNzX2RmLCBhZXMoeD10ZW1wKSkgKwogIGdlb21fcG9pbnQoYWVzKHk9ZGVwX2RlbGF5KSkgKwogIGdlb21fbGluZShhZXMoeT0uZml0dGVkKSwgY29sPSJyZWQiLCBzaXplPTEpCgojIDIuIFByZXRlbmQgZm9yIGEgbW9tZW50IHlvdSBkb24ndCBrbm93IHRoZSB0cnVlIHkgPSBkZXBfZGVsYXksIHRha2UgdGhlCiMgcHJldmlvdXNseSBmaXR0ZWQgbW9kZWwgYW5kIG1ha2UgcHJlZGljdGlvbnMgb24gdGVzdCBzZXQ6CmZsaWdodHNfc2FtcGxlX3Rlc3QgPC0gZmxpZ2h0c19zYW1wbGVfdGVzdCAlPiUgCiAgbXV0YXRlKGRlcF9kZWxheV9oYXQgPSBwcmVkaWN0KG1vZGVsX2xvZXNzLCBuZXdkYXRhPWZsaWdodHNfc2FtcGxlX3Rlc3QpKQoKIyBOb3cgbGV0J3Mgc3RvcCBwcmV0ZW5kaW5nIGFuZCBjb21wYXJlIG91ciBwcmVkaWN0aW9ucyAocmVkIHBvaW50cykgdG8gdGhlCiMgdHJ1dGggKGJsYWNrIHBvaW50cykKZ2dwbG90KGZsaWdodHNfc2FtcGxlX3Rlc3QsIGFlcyh4PXRlbXApKSArCiAgZ2VvbV9wb2ludChhZXMoeT1kZXBfZGVsYXkpKSArCiAgZ2VvbV9wb2ludChhZXMoeT1kZXBfZGVsYXlfaGF0KSwgY29sPSJyZWQiLCBzaXplPTEpCgojIE5vdyBsZXQncyBldmFsdWF0ZSB0aGUgUk1TRQpmbGlnaHRzX3NhbXBsZV90ZXN0ICU+JQogIHN1bW1hcmlzZShNU0UgPSBtZWFuKChkZXBfZGVsYXkgLSBkZXBfZGVsYXlfaGF0KV4yKSkgJT4lIAogIG11dGF0ZShSTVNFID0gc3FydChNU0UpKQpgYGAKCgoKIyMgYGdlb21fc21vb3RoKClgIHVzZXMgTE9FU1Mgd2hlbiBuIDwgMTAwMAoKTG9vayBhdCB0aGUgaGVscCBmaWxlIGA/Z2dwbG90Mjo6c3RhdF9zbW9vdGhgIHVuZGVyIGBtZXRob2RgOiBkZWZhdWx0IGZvciBuPDEwMDAKaXMgYGxvZXNzYC4gCgpgYGB7ciwgZXZhbD1GQUxTRX0KIyBXaGVuIG1vcmUgdGhhbiAxMDAwIG9icywgZ2VvbV9zbW9vdGggdXNlcyBhbm90aGVyIG1ldGhvZApkaW0oZmxpZ2h0c19zYW1wbGUpCmdncGxvdChmbGlnaHRzX3NhbXBsZSwgYWVzKHg9dGVtcCwgeT1kZXBfZGVsYXkpKSArCiAgZ2VvbV9wb2ludCgpICsKICBnZW9tX3Ntb290aChzZT1GQUxTRSwgY29sPSJyZWQiLCBzaXplPTEpCgojIFdoZW4gbGVzcyB0aGFuIDEwMDAgb2JzLCBnZW9tX3Ntb290aCB1c2VzIExPRVNTCmRpbShmbGlnaHRzX3NhbXBsZV90cmFpbikKZ2dwbG90KGZsaWdodHNfc2FtcGxlX3RyYWluLCBhZXMoeD10ZW1wLCB5PWRlcF9kZWxheSkpICsKICBnZW9tX3BvaW50KCkgKwogIGdlb21fc21vb3RoKHNlPUZBTFNFLCBjb2w9InJlZCIsIHNpemU9MSkKCiMgSG93IGRvIEkgInR1bmUiIGEgTE9FU1Mgc21vb3RoZXI/IFBsYXkgYXJvdW5kIHdpdGggdGhlIHNwYW4gdmFsdWUgYmVsb3c6CmdncGxvdChmbGlnaHRzX3NhbXBsZV90cmFpbiwgYWVzKHg9dGVtcCwgeT1kZXBfZGVsYXkpKSArCiAgZ2VvbV9wb2ludCgpICsKICBnZW9tX3Ntb290aChzZT1GQUxTRSwgY29sPSJyZWQiLCBzaXplPTEsIHNwYW49MC4yKQpgYGAKCgoKKioqCgoKCiMgUHJvYmxlbSBzZXQgMyB7I1BTMDN9CgojIyBJbmZvcm1hdGlvbgoKKkFzc2lnbmVkIG9uIFRodSA5LzE5LCBkdWUgb24gVHVlIDkvMjYgOWFtIGF0IHdoaWNoIHBvaW50IHRoZXJlIHdpbGwgYmUgc3luY2hyb25pemVkIHB1bGwgcmVxdWVzdHMuKgoKPGNlbnRlcj4KPGEgaHJlZj0iaHR0cDovL3RvbWFzemthY21ham9yLnBsL2luZGV4LnBocC8yMDE2LzA1LzAxL3N2bS1tb2RlbC1zZWxlY3Rpb24yLyI+CjxpbWcgYm9yZGVyPSIwIiBhbHQ9IlNiZXJiYW5rIiBzcmM9Imh0dHA6Ly90b21hc3prYWNtYWpvci5wbC93cC1jb250ZW50L3VwbG9hZHMvMjAxNi8wNS9jcm9zcy12YWxpZGF0aW9uLnBuZyIgaGVpZ2h0PSI2MDAiPgo8L2E+CjwvY2VudGVyPgoKQmFieSdzIGZpcnN0IGNyb3NzdmFsaWRhdGlvbiEgWW91IHdpbGwgaW1wbGVtZW50IGZyb20gc2NyYXRjaCBhIGZ1bGwgY3Jvc3N2YWxpZGF0aW9uIGFuZCB1c2UgaXQgdG8gZmluZCB0aGUgc3BsaW5lcyBtb2RlbAp3aXRoIHRoZSBiZXN0IG91dC1vZi1zYW1wbGUgcHJlZGljdGl2ZSBhYmlsaXR5ICppbiB0ZXJtcyBvZiB0aGUgUm9vdCBNZWFuIFNxdWFyZWQgRXJyb3IgKFJNU0UpKi4gVGhlIGRhdGEgaW5jbHVkZSB0aGUgZm9sbG93aW5nIHZhcmlhYmxlczoKCiogYElEYCB1bmlxdWUgaWRlbnRpZmllciB2YXJpYWJsZQoqIGB4YCB1bml2YXJpYXRlIHByZWRpY3RvciBvZiBuPTMwMDAgZXF1YWxseSBzcGFjZWQgdmFsdWVzIGJldHdlZW4gLTEwIGFuZCA5MAoqIGB5YCBvdXRjb21lIHZhcmlhYmxlIGdlbmVyYXRlZCBmcm9tICR5ID0gZih4KSArIFxlcHNpbG9uJCB3aGVyZQogICAgKyAkXGVwc2lsb24kIGlzIGEgcmFuZG9tIHZhcmlhYmxlIGRpc3RyaWJ1dGVkIHdpdGggbWVhbiAwIGFuZCBzdGFuZGFyZCBkZXZpYXRpb24gJFxzaWdtYSQKICAgICsgQm90aCAkZiQgYW5kICRcc2lnbWEkIGFyZSBvbmx5IGtub3duIGJ5IEFsYmVydCEgTm90IHRoZSBzYW1lIGFzIHRoZSB2aWRlbyBpbiBbTGVjdHVyZSAxLjNdKCNpbnRyb190b19tb2RlbGluZykuCgpOb3RlczoKCiogVGVhbXM6IEluZGl2aWR1YWwuIEkgKmhpZ2hseSogcmVjb21tZW5kIHlvdSB3b3JrIGluIGdyb3VwcyBlc3BlY2lhbGx5IGZvciB0aGUgcGxhbm5pbmcgYW5kIGV2ZW50dWFsbHkgY29kaW5nIHF1ZXN0aW9ucywgYnV0IHRoZSB1bHRpbWF0ZSBjb2RlIHlvdSBzdWJtaXQgc2hvdWxkIGJlIHlvdXIgb3duLgoqIERlbGl2ZXJhYmxlczogT25lIHJlYWR5IHRvIHN1Ym1pdCAqcHVsbCByZXF1ZXN0KiB0byB0aGUgW1BTMDMgcmVwb10oaHR0cHM6Ly9naXRodWIuY29tLzIwMTctMDktQW1oZXJzdC1TVEFUNDk1L1BTMDMpIChyZWNhbGwgdGhlIEdpdEh1YiBbc3VibWlzc2lvbiBwcm9jZXNzXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUkVBRE1FI3Byb2JsZW0tc2V0LXN1Ym1pc3Npb24tcHJvY2VzcykpLiBBdCB0aGUgdmVyeSBsZWFzdCwgdGhlIGZvbGxvd2luZyBmaWxlcyBzaG91bGQgYmUgbW9kaWZpZWQvYWRkZWQ6CiAgICAxLiBgUFMwMy5SbWRgOiBZb3VyIHdvcmsuCiAgICAxLiBgUFMwMy5odG1sYDogVGhlIG91dHB1dCBvZiBgUFMwMy5SbWRgLiBObyBwcmVzZW50YXRpb25zIGZvciB0aGlzIHByb2JsZW0gc2V0LgogICAgMS4gYFJFQURNRS5tZGA6IENoYW5nZSBgcnVkZWJveWJlcnRgIGluIHRoZSBVUkwgdG8gdGhlIEdpdEh1YiBJRCBzbyB0aGF0IHlvdSBjYW4gb3BlbiB5b3VyIHZlcnNpb24gb2YgYFBTMDMuaHRtbGAgaW4gYSBicm93c2VyIGVhc2lseS4KKiBUaXBzOgogICAgMS4gV2UncmUgcmFtcGluZyB1cCB0aGUgY29kaW5nIGluIHRoaXMgYXNzaWdubWVudCEgRG9uJ3Qgc3BpbiB5b3VyIHdoZWVscyEKICAgIDEuIFBzZXVkb2NvZGUKICAgICAgICArIERvbid0IHN0YXJ0IGNvZGluZyByaWdodCBhd2F5ISBNYWtlIGEgcGxhbiBvZiBhdHRhY2sgdXNpbmcgKnBzZXVkb2NvZGUqIHRoYXQgaXMgbGFuZ3VhZ2UgaW5kZXBlbmRlbnQ6IDxjZW50ZXI+CjxpbWcgYm9yZGVyPSIwIiBhbHQ9IlNiZXJiYW5rIiBzcmM9Imh0dHBzOi8vd3d3LnJlc2VhcmNoZ2F0ZS5uZXQvcHJvZmlsZS9Bcm5hYl9TaGF3L3B1YmxpY2F0aW9uLzI2OTMyMTQyMi9maWd1cmUvZmlnNC9BUzozOTIyMjI2MTM3NTM4NThAMTQ3MDUyNDU2NjE4OC9GaWd1cmUtNS1Qc2V1ZG8tY29kZS1mb3ItUmVsaWVmRi1mZWF0dXJlLXNlbGVjdG9yLnBuZyIgd2lkdGg9IjUwMCI+CjwvY2VudGVyPgogICAgICAgICsgWW91IGRvbid0IHdhbnQgdG8gY29uZmxhdGUgdGhlICoqd2hhdCoqICh0aGUgYWxnb3JpdGhtKSBhbmQgdGhlICoqaG93KiogKHRoZSBjb2RlKSBvZiB0aGUgcHJvYmxlbSBzZXQuIExheSBvdXQgdGhlIGFsZ29yaXRobSBvbiBwYXBlciwgYmxhY2tib2FyZCwgd2hpdGVib2FyZCwgZXRjLCBmaXJzdCEKICAgICAgICArIEluIGV4YW1zLCB5b3Ugd29uJ3QgYmUgYXNrZWQgdG8gd3JpdGUgY29kZSwgYnV0IHJhdGhlciBwc2V1ZG9jb2RlLgoKCiMjIEV4YW1wbGUgc29sdXRpb25zCgoqIFtIVE1MIG91dHB1dF0oaHR0cDovL3JwdWJzLmNvbS9ydWRlYm95YmVydC9TVEFUNDk1X1BTMDNfYWxiZXJ0KQoqIFtgLlJtZGAgc291cmNlIGNvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS8yMDE3LTA5LUFtaGVyc3QtU1RBVDQ5NS9QUzAzL2Jsb2IvbWFzdGVyL1BTMDNfYWxiZXJ0LlJtZCkuIENsaWNrIG9uICJSYXciIGJ1dHRvbiBhbmQgc2F2ZSB0byBgLlJtZGAgaW4geW91ciBgUFMwM2AgZm9sZGVyL1JTdHVkaW8gcHJvamVjdC4KCgoqKioKCgoKCgojIDEuNyBDcm9zc3ZhbGlkYXRpb24KCiMjIFR1ZSA5LzE5CgpBbm5vdW5jZW1lbnRzOgoKKiAqKlRpcCBvZiB0aGUgZGF5OioqIEFub3RoZXIgcmVhc29uIEknbSBhIGJpZyBmYW4gb2YgU2xhY2ssIHF1aWNrIHZpZGVvY29uZmVyZW5jaW5nIHdpdGggc2NyZWVuc2hhcmluZyBkaXJlY3RseSBpbiBTbGFjayB1c2luZyBhcHBlYXIuaW4uIEluIGEgRE0gdHlwZSBgL2FwcGVhciBOQU1FX09GX1VOSVFVRV9DT05GRVJFTkNFX1JPT01gLiAKRXg6IGAvYXBwZWFyIHB1cnBsZV9tb25rZXlfZGlzaHdhc2hlcmAuCiogUHJvYmxlbSBzZXQgMDIgcHJlc2VudGF0aW9ucyEgVW5kZXIgW1Byb2JsZW0gc2V0IDJdKCNQUzAyKSBzZWN0aW9uLgoKCgojIyBDaGFsayB0YWxrCgoxLjcgQ3Jvc3N2YWxpZGF0aW9uCgpDb3JyZXNwb25kaW5nIGJvb2sgY2hhcHRlcnMKCiogSVNMUjogWzUsIDUuMS4zXSAoU3RhcnQgb2YgQ2hhcHRlciA1LCB0aHJvdWdoIHRvIHRoZSBlbmQgb2YgNS4xLjMsIHN0b3AganVzdCBiZWZvcmUgNS4xLjQpCiogQ0FTSTogWzEyLCAxMi4yXQoKCgoqKioKCgoKCiMgMS42IFRleGFzIHNoYXJwc2hvb3RlciBmYWxsYWN5IHsjdGV4YXN9CgojIyBNb24gOS8xOAoKQW5ub3VuY2VtZW50czoKCiogKipUaXAgb2YgdGhlIGRheToqKiBLZXlib2FyZCBzaG9ydGN1dCBgJT4lYCB3aXRoIGNvbW1hbmQrc2hpZnQrbSBvbiBtYWNPUyBhbmQgY3RybCtzaGlmdCttIG9uIHdpbmRvd3MuCiogUGhpbG9zb3BoaWNhbCBmYWxsYWN5IG9mIHRoZSBkYXkuICoiVGV4YXMgU2hhcnBzaG9vdGVyIEZhbGxhY3kiOiBXaGVuIGFuIGFyZ3VtZW50IGlzIG1hZGUgYW5kIGNvbmZpcm1lZCB1c2luZyB0aGUgc2FtZSBzZXQgb2YgaW5mb3JtYXRpb24uKiBXYXRjaCBmaXJzdCA1MHMgb2YgdGhpcyB2aWRlbzogPGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL190Y0JzcnlZZDZzPiAKCjxpZnJhbWUgd2lkdGg9IjU2MCIgaGVpZ2h0PSIzMTUiIHNyYz0iaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvX3RjQnNyeVlkNnMiIGZyYW1lYm9yZGVyPSIwIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+CgoKIyMgQ2hhbGsgdGFsawoKMS42IFRleGFzIHNoYXJwc2hvb3RlciBmYWxsYWN5IHNjZW5hcmlvcwoKKiBBKSBTaG9vdGluZyBhdCBhIGJhcm4KKiBCKSBTY2llbmNlCiogQykgTWFjaGluZSBsZWFybmluZyBpbiBnZW5lcmFsCgoKIyMgU2NlbmFyaW8gRCkKCkxldCdzIGNhbGwgdGhlIGZvbGxvd2luZyBleGFtcGxlICJTY2VuYXJpbyBEKSBTcGxpbmVzIi4gUmVjYWxsIGZyb20gb3VyIFtJbnRybyB0byBTcGxpbmVzXSgjaW50cm9fdG9fc3BsaW5lcykgbGVjdHVyZSB0aGUgZGlmZmVyZW50CmZpdHRlZCBtb2RlbHMgYmFzZWQgb24gZGlmZmVyZW50IGRlZ3JlZXMgb2YgZnJlZWRvbSAoaS5lLiBkaWZmZXJlbnQgbnVtYmVycyBvZgprbm90cykuIAoKYGBge3IsIGVjaG89RkFMU0V9CiMgRnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ydWRlYm95YmVydC83NTJmN2FhMWU0MmZhYTIxNzQ4MjJkZDI5YmZhZjk1OQpzZXQuc2VlZCg3NikKZGZfdmFsdWVzIDwtIGMoMiwgMTAsIDI1LCA1MCkKZiA8LSBmdW5jdGlvbih4KXsKICBmX3ggPC0gMC4yKnheMTEqKDEwKigxLXgpKV42KzEwKigxMCp4KV4zKigxLXgpXjEwCiAgcmV0dXJuKGZfeCkKfQp2YWx1ZXMgPC0gZGF0YV9mcmFtZSgKICB4ID0gc2VxKGZyb209MCwgdG89MSwgbGVuZ3RoPTUwMCksCiAgZl94ID0gZih4KSwKICBlcHNpbG9uID0gcm5vcm0oNTAwLCAwLCBzZCA9IDIpLAogIHkgPSBmX3ggKyBlcHNpbG9uCikKb3ZlcmFsbCA8LSBOVUxMCmZvcihkZiBpbiBkZl92YWx1ZXMpewogIG92ZXJhbGwgPC0gc21vb3RoLnNwbGluZSh2YWx1ZXMkeCwgdmFsdWVzJHksIGRmPWRmKSAlPiUKICAgIGF1Z21lbnQoKSAlPiUKICAgIG11dGF0ZShkZj1kZikgJT4lCiAgICBiaW5kX3Jvd3Mob3ZlcmFsbCkKfQpvdmVyYWxsIDwtIG92ZXJhbGwgJT4lIAogIGFzX3RpYmJsZSgpCm11bHRpcGxlX2RmIDwtIG92ZXJhbGwgJT4lIAogIGdncGxvdChhZXMoeD14KSkgKwogIGdlb21fcG9pbnQoYWVzKHk9eSksIHNpemU9MC41KSArCiAgZ2VvbV9saW5lKGFlcyh5PS5maXR0ZWQpLCBjb2w9ImJsdWUiLCBzaXplPTEpICsKICBmYWNldF93cmFwKH5kZiwgbnJvdz0yKSArCiAgbGFicyh0aXRsZT0iU3BsaW5lcyBmaXQgdy8gZGlmZmVyZW50IGRlZ3JlZXMgb2YgZnJlZWRvbSIpCm11bHRpcGxlX2RmCmBgYAoKCgojIyBTY2VuYXJpbyBEKTogU2NvcmUKCkxldCdzIGRlZmluZSBhIG5vdGlvbiBvZiAic2NvcmUiIHRvIGV2YWx1YXRlIGhvdyBnb29kIHRoZSBhYm92ZSBmaXRzIGFyZTogKm1lYW4gc3F1YXJlZCBlcnJvciAoTVNFKSouIEltYWdlIGNvdXJ0ZXN5IFtDaHJpcyBBbGJvbidzXShodHRwczovL3R3aXR0ZXIuY29tL2NocmlzYWxib24pIGV4Y2VsbGVudCBbTWFjaGluZSBMZWFybmluZyBGbGFzaGNhcmRzXShodHRwczovL3R3aXR0ZXIuY29tL3NlYXJjaD9xPSUyM21hY2hpbmVsZWFybmluZ2ZsYXNoY2FyZHMlMjAlNDBjaHJpc2FsYm9uJnNyYz10eXBkKS4KCjxpbWcgc3JjPSJpbWFnZXMvTWVhbl9TcXVhcmVkX0Vycm9yX3ByaW50LnBuZyIgYWx0PSJEcmF3aW5nIiBzdHlsZT0id2lkdGg6IDQwMHB4OyIvPgoKCgojIyBDaGFsayB0YWxrCgoxLjYgTWVhbiBTcXVhcmVkIEVycm9yCgoKIyMgU2NlbmFyaW8gRCkKCkhlcmUgYXJlIHRoZSBSb290IE1lYW4gU3F1YXJlZCBFcnJvcnMgZm9yIHRoZSBwbG90IGFib3ZlLiBgZGY9NTBgIGhhcyBsb3dlc3QgUk1TRS4gSXMgYGRmPTUwYCBmb3Igb3V0LW9mLXNhbXBsZSBwcmVkaWN0aW9uPyBXaGF0IGRpZCB0aGUgVGV4YXMgU2hhcnBzaG9vdGVyIEZhbGxhY3kgc2F5IGluIHRoZSBtYWNoaW5lIGxlYXJuaW5nIGNhc2U/CgpgYGB7ciwgZWNobz1GQUxTRX0Kb3ZlcmFsbCAlPiUgCiAgZ3JvdXBfYnkoZGYpICU+JSAKICBzdW1tYXJpc2UoUk1TRSA9IHNxcnQobWVhbigucmVzaWReMikpKSAlPiUgCiAga25pdHI6OmthYmxlKGRpZ2l0cz0zKQpgYGAKCgoKIyMgQ2hhbGsgdGFsawoKMS42IFRoZSAicmF0aGVyIiBvZiBTY2VuYXJpbyBEKSAodG8gYXZvaWQgdGhlIFRleGFzIFNoYXJwc2hvb3RlciBGYWxsYWN5KS4KCgoKCgoKCioqKgoKCgoKIyAxLjUgVGhlIHRoZW9yeSBvZiBzcGxpbmVzICsgcmVzYW1wbGluZwoKIyMgVGh1IDkvMTQKCkFubm91bmNlbWVudHM6CgoqICJHYWghIEkgY2FuJ3QgdGVsbCB3aG8geW91IGFyZSBmcm9tIHlvdXIgU2xhY2sgbmFtZXMhIiBQbGVhc2UgZ28gdG86ICJTVEFUIDQ5NSBBbWhlcnN0Li4uIiBvbiB0b3AgbGVmdCBvZiBTbGFjayAtPiAiUHJlZmVyZW5jZXMiIC0+ICJNZXNzYWdlcyAmIE1lZGlhIiAtPiAiTmFtZXMiIC0+IENsaWNrIHRoZSAiRnVsbCAmIGRpc3BsYXkgbmFtZXMiIHJhZGlvIGJ1dHRvbi4KKiBQcm9ibGVtIHNldCAwMSBmZWVkYmFjayBnaXZlbiBbYmVsb3ddKCNQUzAxKS4KCgojIyBTcGxpbmVzCgpTcGxpbmVzIGFyZSBwaWVjZXdpc2UgY29udGludW91cyBwb2x5bm9taWFscyB3aXRoIFtzbW9vdGhuZXNzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbW9vdGhuZXNzKSBjb25zdHJhaW50czoKCjxjZW50ZXI+PGltZyBzcmM9ImltYWdlcy9zcGxpbmVzLnBuZyIgYWx0PSJEcmF3aW5nIiBzdHlsZT0id2lkdGg6IDUwMHB4OyIvPjwvY2VudGVyPgoKCiMjIENoYWxrIHRhbGsKCjEuNSBTcGxpbmVzCgoKIyMgSG93IGFyZSBzcGxpbmVzIGN1cnZlcyBmaXQ/CgpIb3cgdG8gb2J0YWluIHRoZSBmaXR0ZWQgJFx3aWRlaGF0e1xiZXRhfV8wJCwgJFx3aWRlaGF0e1xiZXRhfV8xJCwgJFx3aWRlaGF0e1xiZXRhfV8yJCwgYW5kICRcd2lkZWhhdHtcYmV0YX1fMyQgbmVjZXNzYXJ5IGZvciBhbGwgJEsrMSQgY3ViaWMgcG9seW5vbWlhbHMgCiQkClx3aWRlaGF0e3l9X2kgPSBcd2lkZWhhdHtcYmV0YX1fMCArIFx3aWRlaGF0e1xiZXRhfV8xIHhfaSArIFx3aWRlaGF0e1xiZXRhfV8yIHhfaV4yICsgXHdpZGVoYXR7XGJldGF9XzMgeF9pXjMKJCQKCmZvciBlYWNoIGludGVydmFsPyBBIGNvbWJpbmF0aW9uIG9mIGNhbGN1bHVzIChkZXJpdmF0aXZlcykgYW5kIGxpbmVhciBhbGdlYnJhIChzb2x2aW5nIGEgc3lzdGVtIG9mIGVxdWF0aW9ucykuIFNlZSB0aGlzIDxhIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0icGFnZS1saW5rIiBocmVmPSJzdGF0aWMvc3BsaW5lc19ub3Rlcy5wZGYiPlBERjwvYT4gaWYgeW91J3JlIGN1cmlvdXMuCgoKIyMgU2FtcGxpbmcgcGFyYWRpZ20KCjxjZW50ZXI+PGltZyBzcmM9ImltYWdlcy90YXJnZXQtcG9wdWxhdGlvbi5qcGciIGFsdD0iRHJhd2luZyIgc3R5bGU9IndpZHRoOiA1MDBweDsiLz48L2NlbnRlcj4KCiMjIENoYWxrIHRhbGsKCjEuNSBTYW1wbGluZwoKCiMjIFJlc2FtcGxpbmcgcGFyYWRpZ20KCjxjZW50ZXI+PGltZyBzcmM9ImltYWdlcy9yZXNhbXBsZS5qcGciIGFsdD0iRHJhd2luZyIgc3R5bGU9IndpZHRoOiA1MDBweDsiLz48L2NlbnRlcj4KCioqTW9yYWwqKjogWW91IHdhbnQgdGhlCgoqIHRoZSBwcm9jZXNzIHJlcHJlc2VudGVkIGJ5IHRoZSByZWQgZGFzaGVkIGxpbmUvYXJyb3cgKHJlc2FtcGxpbmcpIHRvIG1pbWljIGFzIG11Y2ggYXMgcG9zc2libGUKKiB0aGUgcHJvY2VzcyByZXByZXNlbnRlZCBieSB0aGUgYmxhY2sgZGFzaGVkIGxpbmUvYXJyb3cgKHNhbXBsaW5nKQoKCgoqKioKCgoKIyBQcm9ibGVtIHNldCAyIHsjUFMwMn0KCiMjIEluZm9ybWF0aW9uCgoqQXNzaWduZWQgb24gVGh1IDkvMTIsIGR1ZSBvbiBUdWUgOS8xOSA5YW0gYXQgd2hpY2ggcG9pbnQgdGhlcmUgd2lsbCBiZSBzeW5jaHJvbml6ZWQgcHVsbCByZXF1ZXN0cy4qCgo8YSBocmVmPSJodHRwczovL3d3dy5rYWdnbGUuY29tL2Mvc2JlcmJhbmstcnVzc2lhbi1ob3VzaW5nLW1hcmtldCI+CjxpbWcgYm9yZGVyPSIwIiBhbHQ9IlNiZXJiYW5rIiBzcmM9ImltYWdlcy9zYmVyYmFuay5wbmciIHdpZHRoPSI2MDAiPgo8L2E+CgpZb3Ugd2lsbCBlbnRlciB0aGUgW1NiZXJiYW5rIFJ1c3NpYW4gSG91c2luZyBNYXJrZXRdKGh0dHBzOi8vd3d3LmthZ2dsZS5jb20vYy9zYmVyYmFuay1ydXNzaWFuLWhvdXNpbmctbWFya2V0KSBLYWdnbGUgY29tcGV0aXRpb24gYW5kIGZpdCBhIHNwbGluZSBtb2RlbCB0byBwcmVkaWN0IHRoZSBvdXRjb21lIHZhcmlhYmxlIGBwcmljZV9kb2NgOiB0aGUgc2FsZSBwcmljZSBvZiBhIHBpZWNlIG9mIHJlYWwgZXN0YXRlLiBUaGUgZGF0YSBoYXMgYmVlbiBwcmUtZG93bmxvYWRlZCBhbmQgaW5jbHVkZWQgaW4gdGhlIFtQUzAyIHJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS8yMDE3LTA5LUFtaGVyc3QtU1RBVDQ5NS9QUzAyKSBpbiB0aGUgY291cnNlIEdpdEh1YiBPcmdhbml6YXRpb24uCgoqIFRlYW1zOiAyLTMgcGVvcGxlIGF0IHlvdXIgY2hvb3NpbmcuIE9uY2UgeW91J3ZlIHNlbGVjdGVkIHlvdXIgZ3JvdXAgZGVzaWduYXRlIG9uZSBwZXJzb24gYXMgdGVhbSBsZWFkZXIsIHdobyB3aWxsOgogICAgKyBDcmVhdGUgYSBTbGFjayBETSB0aGF0IGluY2x1ZGVzIEFsYmVydCwgQW5kcmV3IEtpbSAoVEEpLCBhbmQgYWxsIHRlYW0gbWVtYmVycy4gU28gZmFyOgogICAgICAgICsgVGVhbSBBOiBTYXJhIChubyAiaCIpLCBNZXJlZGl0aCwgQnJlbm5hCiAgICAgICAgKyBUZWFtIEI6IEplZmYsIEx1a2UsIEFuZHJldwogICAgICAgICsgVGVhbSBDOiBKb25hdGhhbiwgU2FyYWggKHdpdGggImgiKSwgVGltb3RoeQogICAgICAgICsgVGVhbSBEOiBQZWksIEplbm4sIEFudGhvbnkKICAgICAgICArIFRlYW0gRTogTGVvbmFyZCwgVmlja2llLCBCcmVuZGFuCiAgICAgICAgKyBUZWFtIEY6IEFiYmFzLCBDYWxlYiwgS2lyeXUKICAgICAgICArIFRlYW0gRzogSGFycmlzb24sIENocmlzdGllbgogICAgICAgICsgVGVhbSBIOiBNZXJvbiwgV2F5bmUsIFRhc2hlZW5hCiAgICArIFN1Ym1pdCBhIHNpbmdsZSBwdWxsIHJlcXVlc3Qgb24gYmVoYWxmIG9mIHRoZSBncm91cC4KICAgICsgU3VibWl0IGEgc2luZ2xlIHN1Ym1pc3Npb24gdG8gS2FnZ2xlIG9uIGJlaGFsZiBvZiB0aGUgZ3JvdXAuCiogRGVsaXZlcmFibGVzOiBPbmUgcmVhZHkgdG8gc3VibWl0ICpwdWxsIHJlcXVlc3QqIHRvIHRoZSBbUFMwMiByZXBvXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUFMwMikgKHJlY2FsbCB0aGUgR2l0SHViIFtzdWJtaXNzaW9uIHByb2Nlc3NdKGh0dHBzOi8vZ2l0aHViLmNvbS8yMDE3LTA5LUFtaGVyc3QtU1RBVDQ5NS9SRUFETUUjcHJvYmxlbS1zZXQtc3VibWlzc2lvbi1wcm9jZXNzKSkuIEF0IHRoZSB2ZXJ5IGxlYXN0LCB0aGUgZm9sbG93aW5nIGZpbGVzIHNob3VsZCBiZSBtb2RpZmllZC9hZGRlZDoKICAgIDEuIGBQUzAyLlJtZGA6IFRoaXMgc2hvdWxkCiAgICAgICAgKyBCZSB3ZWxsLWNvbW1lbnRlZCBhbmQgY29tcGxldGVseSByZXByb2R1Y2libGUuCiAgICAgICAgKyBJbnZvbHZlIGFuICpleHBsb3JhdG9yeSBkYXRhIGFuYWx5c2lzKi4KICAgICAgICArIEFyZ3VlIHdoeSB5b3UgY2hvc2UgdGhlIG1vZGVsIHlvdSBkaWQuCiAgICAxLiBgUFMwMi5odG1sYDogVGhlIG91dHB1dCBvZiBgUFMwMi5SbWRgLiBUaGlzIHdpbGwgYmUgdGhlIHByZXNlbnRhdGlvbiBmaWxlIGZvciBhIHJhbmRvbWx5IGNob3NlbiBzZXQgb2YgZ3JvdXBzIG9uIFR1ZSA5LzE5LgogICAgMS4gYFJFQURNRS5tZGA6IENoYW5nZSBgcnVkZWJveWJlcnRgIGluIHRoZSBVUkwgdG8gdGhlIEdpdEh1YiBJRCBvZiB0aGUgdGVhbSBsZWFkZXIgc28gdGhhdCB5b3UgY2FuIG9wZW4geW91ciB0ZWFtJ3MgdmVyc2lvbiBvZiBgUFMwMi5odG1sYCBpbiBhIGJyb3dzZXIgb24gVHVlc2RheSBtb3JuaW5nLgogICAgMS4gYHN1Ym1pc3Npb24uY3N2YAogICAgMS4gYHNjcmVlbl9zaG90LnBuZ2Agb3IgYHNjcmVlbl9zaG90LmpwZ2A6IEEgc2NyZWVuc2hvdCBvZiB5b3VyIEthZ2dsZSByYW5raW5nLgoqIFRpcHM6CiAgICArIEFnYWluLCBkbyBub3Qgd29ycnkgYWJvdXQgeW91ciBzY29yZS4gVGhpcyBwcm9ibGVtIHNldCBpcyBtb3JlIGFib3V0IHByb2Nlc3MgbW9yZSB0aGFuIG91dGNvbWUuCiAgICArIERvIG5vdCBbc3BpbiB5b3VyIHdoZWVsc10oaHR0cHM6Ly95b3V0dS5iZS9WclMxNHdMbVZoWT90PTEycykhCiogSGludHM6CgpgYGB7ciwgZmlnLmhlaWdodD0zLCBmaWcud2lkdGg9NX0KbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkoYnJvb20pCmRhdGEoY2FycykKc3BsaW5lc19tb2RlbCA8LSBzbW9vdGguc3BsaW5lKHg9Y2FycyRzcGVlZCwgeT1jYXJzJGRpc3QsIGRmID0gNikKc3BsaW5lc19tb2RlbF90aWR5IDwtIHNwbGluZXNfbW9kZWwgJT4lIAogIGJyb29tOjphdWdtZW50KCkgCnBsb3QgPC0gZ2dwbG90KHNwbGluZXNfbW9kZWxfdGlkeSwgYWVzKHg9eCkpICsKICBnZW9tX3BvaW50KGFlcyh5PXkpKSArCiAgZ2VvbV9saW5lKGFlcyh5PS5maXR0ZWQpLCBjb2w9ImJsdWUiKQpwbG90Cm5ld19zcGVlZHMgPC0gYygyNC42LCAyNi40LCAyMy40LCAxNi44LCAxNS44LCA1LjQsIDE0LjgsIDguMiwgMSwgMTguOCwgMjUsIDI4LCAxOS42LCAxMS4yLCAyMS44LCAyNi4yLCAyMC42LCAwLCAxNC40LCA4LjgpCiMgV2hhdCBkbyB5b3UgdGhpbmsgb3V0cHV0IGlzPwpvdXRwdXQgPC0gcHJlZGljdChzcGxpbmVzX21vZGVsLCBuZXdfc3BlZWRzKSAlPiUgCiAgdGliYmxlOjphcy50aWJibGUoKQpoZWFkKG91dHB1dCkKcGxvdCArCiAgZ2VvbV9wb2ludChkYXRhPW91dHB1dCwgYWVzKHg9eCwgeT15KSwgY29sPSJyZWQiKQpgYGAKCiMjIFByZXNlbnRhdGlvbnMgCgoqIFRlYW0gRjogQWJiYXMsIENhbGViLCBLaXJ5dQogICAgKyBbUHJlc2VudGF0aW9uXShodHRwOi8vaHRtbHByZXZpZXcuZ2l0aHViLmlvLz9odHRwczovL2dpdGh1Yi5jb20vYWJieS1zaGFoL1BTMDIvYmxvYi9tYXN0ZXIvUFMwMi5odG1sKQogICAgKyBbU291cmNlIGNvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9hYmJ5LXNoYWgvUFMwMi8pCiogVGVhbSBFOiBMZW9uYXJkLCBWaWNraWUsIEJyZW5kYW4KICAgICsgW1ByZXNlbnRhdGlvbl0oaHR0cDovL2h0bWxwcmV2aWV3LmdpdGh1Yi5pby8/aHR0cHM6Ly9naXRodWIuY29tL3ZpcHBpZTg1Mi9QUzAyL2Jsb2IvbWFzdGVyL1BTMDIuaHRtbCkKICAgICsgW1NvdXJjZSBjb2RlXShodHRwczovL2dpdGh1Yi5jb20vdmlwcGllODUyL1BTMDIvKQoKIyMgRmVlZGJhY2sKCkNoYWxrIHRhbGsgb24gVGh1IDkvMjguCgoKIyMgRXhhbXBsZSBzb2x1dGlvbnMKCiogW0hUTUwgb3V0cHV0XShodHRwczovL2h0bWxwcmV2aWV3LmdpdGh1Yi5pby8/aHR0cHM6Ly9naXRodWIuY29tLzIwMTctMDktQW1oZXJzdC1TVEFUNDk1L1BTMDIvYmxvYi9tYXN0ZXIvUFMwMl9hbGJlcnQuaHRtbCkKKiBbYC5SbWRgIHNvdXJjZSBjb2RlXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUFMwMi9ibG9iL21hc3Rlci9QUzAyX2FsYmVydC5SbWQpLiBDbGljayBvbiAiUmF3IiBidXR0b24gYW5kIHNhdmUgdG8gYC5SbWRgIGluIHlvdXIgYFBTMDJgIGZvbGRlci9SU3R1ZGlvIHByb2plY3QuCgoKKioqCgoKCiMgMS40IEludHJvIHRvIHNwbGluZXMgeyNpbnRyb190b19zcGxpbmVzfQoKIyMgVHVlIDkvMTIKCkFubm91bmNlbWVudHM6IE5ldyBvZmZpY2UgaG91cnMgbG9jYXRpb246IFNlZWxleSBNdWRkIDIwOCAobG91bmdlKQoKIyMgQ2hhbGsgdGFsawoKKiBBbmFsb2d5IG9mIHdoYXQgd2UgYXJlIGRvaW5nCgoKIyMgU3BsaW5lcwoKU3BsaW5lcyBhcmUgKnBpZWNld2lzZSBjdWJpYyBwb2x5bm9taWFscyB3aXRoIHNtb290aG5lc3MgY29uc3RyYWludHMqLiBUaGUgY29kZQpjb3JyZXNwb25kaW5nIHRvIHRoZSB2aWRlbyBhdCB0aGUgZW5kIG9mIFtMZWN0dXJlCjEuM10oaHR0cHM6Ly9ydWRlYm95YmVydC5naXRodWIuaW8vU1RBVDQ5NS8jMTNfaW50cm9fdG9fbW9kZWxpbmcpIGlzIGJlbG93LiAoSWYKeW91J3JlIGN1cmlvdXMsIHRoZSBjb2RlIHRoYXQgY3JlYXRlZCBgbXVsdGlwbGVfZGZgLCBgZXhlcmNpc2VgLCBgZml0dGVkYCwgYW5kCmB0cnV0aGAgYXJlIGF2YWlsYWJsZSBvbiBsaW5lcyAxLTg2IG9mIDxodHRwczovL2JpdC5seS9ydWRlYm95YmVydF9zcGxpbmVzPjsKdGhlc2Ugd2VyZSBydW4gYmVoaW5kIHRoZSBzY2VuY2VzIHRvIGtlZXAgdGhlIGNvZGUgYmVsb3cgc2ltcGxlLikKCmBgYHtyLCBldmFsPUZBTFNFfQpsaWJyYXJ5KHRpZHl2ZXJzZSkKbGlicmFyeShicm9vbSkKIyBMb2FkIHNvbWUgcHJlLWNvbXB1dGVkIGRhdGEKbG9hZCh1cmwoImh0dHBzOi8vcnVkZWJveWJlcnQuZ2l0aHViLmlvL1NUQVQ0OTUvc3RhdGljL3NwbGluZXMuUkRhdGEiKSkKCiMgSGVyZSBpcyBhIHdhY2t5IGZ1bmN0aW9uIGYoeCkKZiA8LSBmdW5jdGlvbih4KXsKICBmX3ggPC0gMC4yKnheMTEqKDEwKigxLXgpKV42KzEwKigxMCp4KV4zKigxLXgpXjEwCiAgcmV0dXJuKGZfeCkKfQoKIyBGb3IgNTAwIGVxdWFsbHkgc3BhY2VkIHZhbHVlcyBvZiB4IGJldHdlZW4gMCAmIDEsIGxldCdzIGNvbXB1dGUgYW5kIHBsb3QgZih4KSBpbiByZWQuCiMgUmVjYWxsIHRoYXQgZih4KSBpcyB0aGUgc3lzdGVtYXRpYyBjb21wb25lbnQsIG9yICJ0aGUgc2lnbmFsIgp2YWx1ZXMgPC0gZGF0YV9mcmFtZSgKICB4ID0gc2VxKGZyb209MCwgdG89MSwgbGVuZ3RoPTUwMCksCiAgZl94ID0gZih4KQopCnZhbHVlcyAlPiUgCiAgZ2dwbG90KGFlcyh4PXgpKSArCiAgc3RhdF9mdW5jdGlvbihmdW4gPSBmLCBjb2w9InJlZCIsIHNpemU9MSkKCiMgV2Ugbm93IGFkZCB0aGUgdW5zeXN0ZW1hdGljIGVycm9yIGNvbXBvbmVudCBlcHNpbG9uIHRvIGYoeCkgaS5lLiB0aGUgbm9pc2UsIHRvCiMgb2J0YWluIG91ciB5J3MsIGFuZCBoZW5jZSBvdXIgb2JzZXJ2ZWQgcG9pbnRzIGluIGJsYWNrICh4LCB5KQp2YWx1ZXMgPC0gdmFsdWVzICU+JSAKICBtdXRhdGUoCiAgICBlcHNpbG9uID0gcm5vcm0oNTAwLCAwLCBzZCA9IDIpLAogICAgeSA9IGZfeCArIGVwc2lsb24KICApCnZhbHVlcyAlPiUgCiAgZ2dwbG90KGFlcyh4PXgpKSArCiAgc3RhdF9mdW5jdGlvbihmdW4gPSBmLCBjb2w9InJlZCIsIHNpemU9MSkgKwogIGdlb21fcG9pbnQoYWVzKHk9eSkpCgojIEJ1dCByZW1lbWJlciBpbiByZWFsIGxpZmUsIHdlIHdvbid0IGtub3cgdGhlIHJlZCBjdXJ2ZSEgSWYgd2UgZGlkLCB0aGVuIHdoeQojIGFyZSB3ZSBkb2luZyBhbnkgb2YgdGhpcz8gQWxsIHdlIG9ic2VydmUgYXJlIHRoZSBibGFjayBwb2ludHMuIExldCdzICJwcmV0ZW5kIgojIGxpa2Ugd2UgZG9uJ3Qga25vdyB3aGF0IHRoZSByZWQgY3VydmUgaXMhCnZhbHVlcyAlPiUgCiAgZ2dwbG90KGFlcyh4PXgpKSArCiAgZ2VvbV9wb2ludChhZXMoeT15KSkKCiMgV2Ugbm93IGZpdCBhICdzbW9vdGhpbmcgc3BsaW5lJy4gVGhpbmsgb2YgaXQgYXMgYSBwaWVjZSBvZiBzdHJpbmcgd2l0aCBhCiMgc3BlY2lmaWVkIGFtb3VudCBvZiBmbGV4aWJpbGl0eSwgd2hlcmUgdGhlIGZsZXhpYmlsaXR5IGlzIGNvbnRyb2xsZWQgYnkgdGhlCiMgImRlZ3JlZXMgb2YgZnJlZWRvbSIgZGYuIFRoaXMgYmx1ZSBjdXJ2ZSBpcyBhICJndWVzcy9lc3RpbWF0ZSIgb2YgdGhlIHJlZAojIGN1cnZlIGYoeCksIHdoaWNoIHJlY2FsbCwgd2UgYXJlIHByZXRlbmRpbmcgd2UgZG9uJ3Qga25vdy4gQWxzbyBvYnNlcnZlIGhvdyB3ZQojIHVzZSB0aGUgYnJvb206OmF1Z21lbnQoKSBmdW5jdGlvbiB0byBjb252ZXJ0IHRoZSBvdXRwdXQgb2Ygc21vb3RoLnNwbGluZSB0bwojIHRpZHkgZGF0YSBmcmFtZSBmb3JtYXQuCnNtb290aC5zcGxpbmUodmFsdWVzJHgsIHZhbHVlcyR5LCBkZj01KSAlPiUKICBicm9vbTo6YXVnbWVudCgpICU+JSAKICBnZ3Bsb3QoYWVzKHg9eCkpICsKICBnZW9tX3BvaW50KGFlcyh5PXkpKSArCiAgZ2VvbV9saW5lKGFlcyh5PS5maXR0ZWQpLCBjb2w9ImJsdWUiLCBzaXplPTEpCiAgCiMgUGxheSBhcm91bmQgd2l0aCB0aGUgZGYgYXJndW1lbnQgaW4gc21vb3RoLnNwbGluZSgpIGFib3ZlLgoKIyBOb3cgbGV0J3MgY29tcGFyZSBzbW9vdGhpbmcgc3BsaW5lcyB1c2luZyBmb3VyIGRpZmZlcmVudCB2YWx1ZXMgb2YgdGhlIGRlZ3JlZXMKIyBvZiBmcmVlZG9tIGluIGEgcGxvdCBJIHByZWNvbXB1dGVkLiBXaGljaCBkbyB5b3UgdGhpbmsgaXMgYmVzdD8gCm11bHRpcGxlX2RmCgojIEkgd291bGQgc2F5IHRoYXQgZGY9MTAgcm91Z2hseSBpcyBiZXN0LiBkZj0yIGlzIG5vdCBxdWl0ZSBmbGV4aWJsZSBlbm91Z2gsCiMgd2hlcmUgYXMgZGY9NTAgc2VlbXMgdG8gbm8gbG9uZ2VyIGZpdHRpbmcgdG8gc2lnbmFsICh0aGUgdHJ1ZSBmdW5jdGlvbiBmKSBhbmQKIyBpcyBub3cgZml0dGluZyB0byBub2lzZS4gSW4gb3RoZXIgd29yZHMsIGl0IGlzIG92ZXJmaXR0aW5nIHRvIHRoaXMgcGFydGljdWxhcgojIGRhdGEgc2V0LgptdWx0aXBsZV9kZiArIAogIHN0YXRfZnVuY3Rpb24oZnVuID0gZiwgY29sPSJyZWQiLCBzaXplPTEpCgojIEV4ZXJjaXNlLiBIZXJlIGFyZSBhIHNldCBvZiBwb2ludHMgZnJvbSBhIGRpZmZlcmVudCBmKHgpIGFuZCBlcHNpbG9uLiBXaXRoCiMgeW91ciBmaW5nZXIgdHJhY2Ugd2hhdCB5b3UgdGhpbmsgdGhlIHRydWUgZih4KSBmdW5jdGlvbiBsb29rcyBsaWtlLiBJbiBvdGhlcgojIHdvcmRzLCBzZXBhcmF0ZSB0aGUgc2lnbmFsIGZyb20gdGhlIG5vaXNlISIKZXhlcmNpc2UKCiMgTGV0J3MgZml0IGEgc3BsaW5lIHdpdGggMjUgZGVncmVlcyBvZiBmcmVlZG9tLiBIb3cgY2xvc2UgaXMgdGhpcyB0byB0aGUgdHJ1dGg/CmZpdHRlZAoKIyBSZWFkeT8gSGVyZSBpcyB0aGUgdHJ1dGghIEhvdyBjbG9zZSB3ZXJlIHlvdT8gTm90ZSB0aGUgbm9pc2UgaXMgbm9ybWFsIHdpdGggbWVhbiAwIAojIGFuZCBzZCA9IDEyIQp0cnV0aApgYGAKCgoKKioqCgoKCiMgMS4zIEludHJvIHRvIG1vZGVsaW5nIHsjaW50cm9fdG9fbW9kZWxpbmd9CgojIyBNb24gOS8xMQoKQW5ub3VuY2VtZW50czoKCiogTWF0aC9zdGF0IHRhYmxlIGZvciBsdW5jaCAxMi0xOjMwIFRlcnJhY2UgUm9vbSBBLCBWYWxlbnRpbmUKKiBTeWxsYWJ1cyBoYXMgYmVlbiBmaW5hbGl6ZWQsIHNvIHBsZWFzZSByZWFkIGl0OgogICAgKyBNaWR0ZXJtIGRhdGVzCiAgICArIEFuZHJldydzIHR1dG9yaW5nIGhvdXJzOiBNb25kYXlzIDZwbS04cG0gaW4gU2VlbGV5IE11ZGQgMjA1IHN0YXJ0aW5nIHRvZGF5CiAgICArIEFsbCBwcm9ibGVtIHNldHMgYXNzaWduZWQvZHVlL3ByZXNlbnRlZCBvbiBUdWVzZGF5cwoqIFBlcmZvcm0gcHVsbCByZXF1ZXN0IGZvciBQUzAxICphcyBhIGNsYXNzKgoqIEZvciB0b21vcnJvdywgd2F0Y2ggOW00OXMgdmlkZW8gbGlua2VkIGJlbG93LgoKVG9waWNzOgoKKiBTdXBlcnZpc2VkIHZzIHVuc3VwZXJ2aXNlZCBsZWFybmluZwoqIE1vZGVsaW5nIGZvciBzdXBlcnZpc2VkIGxlYXJuaW5nCiogKElmIHRpbWUpIFNhbXBsaW5nIGFuZCByZXNhbXBsaW5nCgoKIyMgQ2hhbGsgdGFsawoKKiAxLjMgU3VwZXJ2aXNlZCB2cyB1bnN1cGVydmlzZWQKCgojIyBFeGFtcGxlIG9mIHVuc3VwZXJ2aXNlZCBsZWFybmluZwoKQ29saW4gV29vZGFyZCdzIGlkZWEgb2YgMTEgTmF0aW9ucyBvZiBOb3J0aCBBbWVyaWNhOgoKPGltZyBzcmM9Imh0dHA6Ly9lbWVyYWxkLnR1ZnRzLmVkdS9hbHVtbmkvbWFnYXppbmUvZmFsbDIwMTMvaW1hZ2VzL2ZlYXR1cmVzL3VwaW5hcm1zLW1hcC1sYXJnZS5qcGciIGFsdD0iRHJhd2luZyIgc3R5bGU9IndpZHRoOiA2MDBweDsiLz4KCgojIyBDaGFsayB0YWxrCgoqIDEuMyBNb2RlbCBmb3Igc3VwZXJ2aXNlZCBsZWFybmluZwoKCiMjIFBPVFVTIDQ1IG9uIG1vZGVscwoKPGJsb2NrcXVvdGUgY2xhc3M9InR3aXR0ZXItdHdlZXQiIGRhdGEtbGFuZz0iZW4iPjxwIGxhbmc9ImVuIiBkaXI9Imx0ciI+VGVhY2hpbmcgbXkgc3R1ZGVudHMgdG8gc2VwYXJhdGUgc3lzdGVtYXRpYyBtb2RlbCBjb21wb25lbnQgZnJvbSBpcnJlZHVjaWJsZSBlcnJvciBjb21wb25lbnQgd2hlbiBmaXR0aW5nIGZvciBvdXRjb21lIHZhcmlhYmxlIDxhIGhyZWY9Imh0dHBzOi8vdC5jby83anp1cUVIVGRwIj5waWMudHdpdHRlci5jb20vN2p6dXFFSFRkcDwvYT48L3A+Jm1kYXNoOyBBbGJlcnQgWS4gS2ltIChAcnVkZWJveWJlcnQpIDxhIGhyZWY9Imh0dHBzOi8vdHdpdHRlci5jb20vcnVkZWJveWJlcnQvc3RhdHVzLzgzNDM5NTA2OTQ0NDY2MTI0OSI+RmVicnVhcnkgMjIsIDIwMTc8L2E+PC9ibG9ja3F1b3RlPgo8c2NyaXB0IGFzeW5jIHNyYz0iLy9wbGF0Zm9ybS50d2l0dGVyLmNvbS93aWRnZXRzLmpzIiBjaGFyc2V0PSJ1dGYtOCI+PC9zY3JpcHQ+CgoKIyMgQ2hhbGsgdGFsawoKKiAxLjMgSW5jb21lIGV4YW1wbGUKKiAxLjMgTW9zdCBjb21tb24gZXhhbXBsZSBpbiBBbWhlcnN0IHN0YXRzIGNvdXJzZXMKCiMjIE5leHQgc3RlcHMKCiogRWFybHkgb24gd2Uga2VlcCB0aGluZ3Mgc2ltcGxlOiB1bml2YXJpYXRlICRcdmVje3h9JCBzbyB0aGF0IHdlIHZpc3VhbGl6ZSBlYXNpbHkKKiBGb3IgdG9tb3Jyb3cgKFR1ZXNkYXkpLCB3YXRjaCB0aGUgZm9sbG93aW5nIDltNDlzIHZpZGVvOgoKPGlmcmFtZSB3aWR0aD0iNTYwIiBoZWlnaHQ9IjMxNSIgc3JjPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9iRVNKODFkeVlybyIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4KCgoKKioqCgoKCiMgUHJvYmxlbSBzZXQgMSB7I1BTMDF9CgojIyBJbmZvcm1hdGlvbgoKKkFzc2lnbmVkIG9uIFRodSA5LzcsIGR1ZSBvbiBNb24gOS8xMSA5YW0uKgoKPGltZyBzcmM9Imh0dHBzOi8vd3d3LmthZ2dsZS5jb20vY29udGVudC92LzZlNzA5MzBiYjVjZi9rYWdnbGUvaW1nL2xvZ29zL2thZ2dsZS1sb2dvLWdyYXktMzAwLnBuZyIgYWx0PSJEcmF3aW5nIiBzdHlsZT0id2lkdGg6IDI1MHB4OyIvPgoKQmFieSdzIGZpcnN0IEthZ2dsZSBjb21wZXRpdGlvbiBhbmQgR2l0SHViIHB1bGwgcmVxdWVzdCEgU3BlY2lmaWNhbGx5IHRoZSBbVGl0YW5pYzogTWFjaGluZSBMZWFybmluZyBmcm9tIERpc2FzdGVyXSg8aHR0cHM6Ly93d3cua2FnZ2xlLmNvbS9jL3RpdGFuaWM+KSBjb21wZXRpdGlvbi4gWW91IHdpbGwgYmUgc3VibWl0dGluZyBwcmVkaWN0aW9ucyBvbiB3aG8gc3Vydml2ZWQvZGllZCBhbW9uZ3N0IHRoZSBwYXNzZW5nZXJzIHJhbmRvbWx5IGFzc2lnbmVkIHRvIHRoZSAqdGVzdCBzZXQqIGFuZCB2aWV3aW5nIHlvdXIgS2FnZ2xlIGxlYWRlcmJvYXJkIHNjb3JlLgoKKiBUZWFtczogSW5kaXZpZHVhbAoqIERlbGl2ZXJhYmxlczogQSByZWFkeSB0byBzdWJtaXQgKnB1bGwgcmVxdWVzdCogdG8gdGhlIFtQUzAxIHJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS8yMDE3LTA5LUFtaGVyc3QtU1RBVDQ5NS9QUzAxKSwgaW4gb3RoZXIgd29yZHMgY29tcGxldGUgb25seSBbc3RlcHMgMS01XShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUkVBRE1FI3Byb2JsZW0tc2V0LXN1Ym1pc3Npb24tcHJvY2Vzcykgb2YgdGhlIHByb2JsZW0gc2V0IHN1Ym1pc3Npb24gcHJvY2Vzcy4gSG93ZXZlciwgeW91IHdpbGwgYWxsIGJlIHN1Ym1pdHRpbmcvbWFraW5nIHRoZSBwdWxsIHJlcXVlc3QgKHN0ZXAgNikgYXQgdGhlIHNhbWUgdGltZSBhcyBhIGdyb3VwIGluIGxlY3R1cmUuIFRoZSBmb2xsb3dpbmcgZmlsZXMgc2hvdWxkIGJlIG1vZGlmaWVkL2FkZGVkIGZyb20gdGhlIG9yaWdpbmFsCiAgICAxLiBgUFMwMS5SbWRgOiBUaGlzIHNob3VsZCBiZSB3ZWxsLWNvbW1lbnRlZCBhbmQgKipjb21wbGV0ZWx5IHJlcHJvZHVjaWJsZSoqLiBJbiBvdGhlciB3b3JkcywgaWYgc29tZW9uZSBlbHNlIHRha2VzIHRoaXMgcmVwbywgdGhleSBzaG91bGQgYmUgYWJsZSB0byByZXByb2R1Y2UgeW91ciB3b3JrIHdpdGggb25lIGNsaWNrIG9mIHRoZSBtb3VzZS4gVGhpcyBuZWNlc3NpdGF0ZXMgdGFraW5nIGFuIGVtcGF0aGV0aWMgdmlldyBvZiBvdGhlciB1c2Vycy4KICAgIDEuIGBQUzAxLmh0bWxgOiBUaGUgb3V0cHV0IG9mIGBQUzAxLlJtZGAKICAgIDEuIGBzdWJtaXNzaW9uLmNzdmA6IFlvdXIgcHJlZGljdGlvbnMgb2Ygd2hvIHN1cnZpdmVzIGJhc2VkIG9uIHNvbWV0aGluZyBvdGhlciB0aGFuIHNleC4gQ3VycmVudCBzZXQgdG8gbWF0Y2ggYGdlbmRlcl9zdWJtaXNzaW9ucy5jc3ZgIG9uIEthZ2dsZS4KICAgIDEuIGBzY3JlZW5fc2hvdC5wbmdgIG9yIGBzY3JlZW5fc2hvdC5qcGdgOiBBIHNjcmVlbnNob3Qgb2YgeW91ciBLYWdnbGUgcmFua2luZy4gQmUgc3VyZSB0byAiY2xlYW4iIHlvdXIgYnJvd3NlcnMuCiAgICAxLiBBbnkgb3RoZXIgbmVjZXNzYXJ5IGZpbGVzLgoqIFRpcHM6CiAgICArIFRoaXMgcHJvYmxlbSBzZXQgaXMgb25seSBhYm91dCBnZXR0aW5nIHVzZWQgdG8gdGhlIHByb2Nlc3MsIG5vdCBhYm91dCBhbnl0aGluZyBzdWJzdGFudGl2ZS4gCiAgICArIFlvdSBkb24ndCBoYXZlIHRvIGZpdCBhY3R1YWwgbW9kZWwgZm9yIG5vdywgYnV0IGZlZWwgZnJlZSB0byBpZiB5b3Ugd2FudC4gRG9uJ3QgZXZlbiB3b3JyeSBhYm91dCBob3cgZ29vZCB5b3VyIHByZWRpY3Rpb25zIGFyZSwganVzdCBmb2N1cyBvbiBnZXR0aW5nIGEgc2NvcmUuCiAgICArIERvIG5vdCBbc3BpbiB5b3VyIHdoZWVsc10oaHR0cHM6Ly95b3V0dS5iZS9WclMxNHdMbVZoWT90PTEycykhIElmIHlvdSBhcmUgc3R1Y2ssIHRha2UgYSBicmVhdGhlciwgYW5kIGNvbnN1bHQgb3RoZXJzLgoqICoqTm90ZSBhZGRlZCA5LzcgMTozMHBtKio6IFRoZXJlIGlzIGFuIGVycm9yIGluIGBQUzAxLlJtZGA7IHJlcGxhY2UgbGluZSA0IG9mIGBQUzAxLlJtZGAgc28gdGhhdCBpdCByZWFkczoKCmBgYApkYXRlOiAiMjAxNy0wOS0wNyIKYGBgCgojIyBGZWVkYmFjawoKKiBBbmRyZXcgSy4gKFRBKSBnYXZlIFtmZWVkYmFjayBvbiBQUzAxIG9uIEdpdEh1Yl0oaHR0cHM6Ly9naXRodWIuY29tLzIwMTctMDktQW1oZXJzdC1TVEFUNDk1L1BTMDEvcHVsbHMpIGFuZCB3aWxsIGRvIHNvIGZvciBldmVyeSBwcm9ibGVtIHNldCBieSBUdWVzZGF5IGV2ZW5pbmcuCiAgICArIFlvdSBzaG91bGQndmUgcmVjZWl2ZWQgYW4gZW1haWwuCiAgICArIEJlc3Qgdmlld2VkIGluIHRoZSBHaXRIdWIgd2VicGFnZSBHVUkgaW4gc3BsaXQgZGlmZiBtb2RlLgoqIE92ZXJhbGwgY29tbWVudHM6CiAgICArIGBWaWV3KClgIGRvZXNuJ3Qgd29yayBpbiBhbiBgLlJtZGAgZmlsZTsgZG8gbm90IGluY2x1ZGUgdGhlc2UuCiAgICArIERvbid0IGNvbW1lbnQgZm9yIHlvdXIgb3duIHNha2UsIGJ1dCByYXRoZXIgY29tbWVudCB0byBiZSBlbXBhdGhldGljIHRvIHlvdXIgY29sbGFib3JhdG9ycy4gSW4gcGFydGljdWxhciB5b3VyIFttb3N0IGltcG9ydGFudCBjb2xsYWJvcmF0b3JdKGh0dHA6Ly9ybWhvZ2Vydm9yc3QubmwvY2xlYW5jb2RlL2Jsb2cvMjAxNi8wNS8yNi95b3VyLW1vc3QtdmFsdWFibGUtY29sbGFib3JhdG9yLWZ1dHVyZS15b3UuaHRtbCkuCiAgICArIFRoZSBbdG9uZSBvZiB5b3VyIGludGVyYWN0aW9uc10oaHR0cDovL29wZW5zb3VyY2VzdXJ2ZXkub3JnLzIwMTcvKSBtYXR0ZXJzLCBlc3BlY2lhbGx5IGluIGFuIG9wZW4gc291cmNlIHNldHRpbmcuIFRoaXMgdGFrZSBwcmFjdGljZS4KCgoKKioqCgoKCiMgMS4yIEdldHRpbmcgdXNlZCB0byBpbmZyYXN0cnVjdHVyZQoKIyMgVGh1IDkvNwoKQW5ub3VuY2VtZW50czoKCiogUmVmcmVzaGVyIG9uIFNsYWNrIG5vdGlmaWNhdGlvbnMKKiBHaXRIdWIgb3JnYW5pemF0aW9uIGZvciB0aGUgY291cnNlOiBXaGVyZSBwcm9ibGVtIHNldHMgd2lsbCBiZSBkaXN0cmlidXRlZC9zdWJtaXR0ZWQKICAgICsgRW5zdXJlIHlvdSBjYW4gYWNjZXNzIHRoZSBHaXRIdWIgb3JnYW5pemF0aW9uIGJ5IGNsaWNraW5nICJHaXRIdWIgT3JnIiBhYm92ZS4KICAgICsgSWYgQk9USCB5b3VyIGZ1bGwgbmFtZSBhbmQvb3IgYSByZWNlbnQgcGljdHVyZSBhcmUgbm90IHZpc2libGUgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9vcmdzLzIwMTctMDktQW1oZXJzdC1TVEFUNDk1L3Blb3BsZSksIHBsZWFzZSB1cGRhdGUgeW91ciBHaXRIdWIgcHJvZmlsZS4KClRvcGljczoKCiogR2l0SHViIHB1bGwgcmVxdWVzdCB0aGVvcnkKKiBLYWdnbGUgY29tcGV0aXRpb24KCiMjIEdpdEh1YiBwdWxsIHJlcXVlc3QgdGhlb3J5CgoqIE9wZW4gdGhlIGZvbGxvd2luZyBpbiB0d28gc2VwYXJhdGUgdGFicwogICAgKyBbUHJvYmxlbSBzZXQgMV0oaHR0cHM6Ly9naXRodWIuY29tLzIwMTctMDktQW1oZXJzdC1TVEFUNDk1L1BTMDEpCiAgICArIFtQcm9ibGVtIHNldCBzdWJtaXNzaW9ucyBwcm9jZXNzXShodHRwczovL2dpdGh1Yi5jb20vMjAxNy0wOS1BbWhlcnN0LVNUQVQ0OTUvUkVBRE1FI3Byb2JsZW0tc2V0LXN1Ym1pc3Npb24tcHJvY2VzcykgCiogQ2hhbGsgdGFsazogMS4yIEdpdEh1YiBwdWxsIHJlcXVlc3RzCgojIyBLYWdnbGUgZGF0YQoKKiBSdW4gdGhlIGNvZGUgYmxvY2sgYmVsb3cgdG8gbG9hZC9pbnNwZWN0IHRoZSBbVGl0YW5pYyBkYXRhXShodHRwczovL3d3dy5rYWdnbGUuY29tL2MvdGl0YW5pYy9kYXRhKSBmcm9tIEthZ2dsZSAod2hpY2ggSSd2ZSB1cGxvYWRlZCB0byB0aGUgY291cnNlIHdlYnBhZ2UpCiogQ2hhbGsgdGFsazogMS4yIEthZ2dsZSBkYXRhCgpgYGB7ciwgZXZhbD1GQUxTRX0KbGlicmFyeSh0aWR5dmVyc2UpCnRyYWluIDwtIHJlYWRfY3N2KCJodHRwczovL3J1ZGVib3liZXJ0LmdpdGh1Yi5pby9TVEFUNDk1L3N0YXRpYy9UaXRhbmljL3RyYWluLmNzdiIpCnRlc3QgPC0gcmVhZF9jc3YoImh0dHBzOi8vcnVkZWJveWJlcnQuZ2l0aHViLmlvL1NUQVQ0OTUvc3RhdGljL1RpdGFuaWMvdGVzdC5jc3YiKQpzdWJtaXNzaW9uIDwtIHJlYWRfY3N2KCJodHRwczovL3J1ZGVib3liZXJ0LmdpdGh1Yi5pby9TVEFUNDk1L3N0YXRpYy9UaXRhbmljL2dlbmRlcl9zdWJtaXNzaW9uLmNzdiIpCgpnbGltcHNlKHRyYWluKQpnbGltcHNlKHRlc3QpCmdsaW1wc2Uoc3VibWlzc2lvbikKClZpZXcodHJhaW4pClZpZXcodGVzdCkKVmlldyhzdWJtaXNzaW9uKQpgYGAKCiMjIFdobyBpcyBwcmVkaWN0ZWQgdG8gc3Vydml2ZT8KClRoZSBwcmVkaWN0aW9ucyBhcmUgYmFzZWQgb24gdGhlIHNleCBvZiB0aGUgcGFzc2VuZ2Vycy4KCmBgYHtyLCBldmFsPUZBTFNFfQp0ZXN0ICU+JSAKICBsZWZ0X2pvaW4oc3VibWlzc2lvbiwgYnk9IlBhc3NlbmdlcklkIikgJT4lIAogIHNlbGVjdChQYXNzZW5nZXJJZCwgU2V4LCBTdXJ2aXZlZCkKYGBgCgojIyBUZWNoIHRpbWUKCiogUXVlc3Rpb25zOgogICAgMS4gV2hhdCBpcyB0aGUgInNjb3JpbmciIG1lY2hhbmlzbSBmb3IgdGhpcyBLYWdnbGUgY29tcGV0aXRpb24/CiAgICAxLiBXaGF0IHNjb3JlIGRvZXMgdGhlIGFib3ZlICJtb2RlbCIgeWllbGQgZm9yIHRoZSBgdHJhaW5gaW5nIGRhdGE/CiogU3RhcnQgcHJvYmxlbSBzZXQgMQoKCgoKKioqCgoKCiMgUHJvYmxlbSBzZXQgMAoKIyMgSW5mb3JtYXRpb24KCipBc3NpZ25lZCBvbiBUdWUgOS81LCBkdWUgb24gVGh1IDkvNyBsZWN0dXJlIHRpbWUqLgoKKiBTZXQgdXAgR2l0L0dpdEh1YiB0byBpbnRlcmZhY2Ugd2l0aCBSU3R1ZGlvIG9uIHlvdXIgY29tcHV0ZXIgYnkgcmVhZGluZyBhbmQgZm9sbG93aW5nIGFsb25nIHRvCkNoYXB0ZXJzIDEtMTUgb2YgWyJIYXBweSBHaXQgYW5kIEdpdEh1YiBmb3IgdGhlCnVzZVIiXShodHRwOi8vaGFwcHlnaXR3aXRoci5jb20vKQoqIElmIHlvdSBzdGFydCBzcGlubmluZyB5b3VyIHdoZWVscywgZG9uJ3QgcGFuaWMhIEknbGwgaGF2ZSBvZmZpY2UgaG91cnMgb24KVGh1cnNkYXkgMi01cG0gdG8gaGVscCBvdXQgaWYgeW91IGFyZSBzdHVjay4KCgoKKioqCgoKCiMgMS4xIFN5bGxhYnVzIGFuZCBiYWNrZ3JvdW5kCgojIyBUdWUgOS81CgoqIEFsYmVydCdzIGJhY2tncm91bmQKKiBHbyBvdmVyIHN5bGxhYnVzCiogU2V0dGluZyB1cCBpbmZyYXN0cnVjdHVyZQogICAgMS4gSW50cm8gdG8gU2xhY2sKICAgIDEuIEludHJvIHRvIEthZ2dsZQogICAgMS4gSW50cm8gdG8gR2l0SHViCgoKIyMgWW91ciBpbnN0cnVjdG9yCgo8aHR0cDovL3J1ZGVib3liZXJ0LnJiaW5kLmlvLz4KCgoKIyMgV2hhdCBpcyBtYWNoaW5lIGxlYXJuaW5nPwoKPC9icj4KPGNlbnRlcj48aW1nIHNyYz0iaW1hZ2VzL2RhdGFfc2NpZW5jZV8zLnBuZyIgYWx0PSJEcmF3aW5nIiBzdHlsZT0id2lkdGg6IDMwMHB4OyIvPjwvY2VudGVyPgo8L2JyPgoKCiMjIE15IHBoaWxvc29waHkKCj4gKiAqKlF1ZXN0aW9uKiogV2hhdCBpcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHN0YXRpc3RpY3MsIGRhdGEgc2NpZW5jZSwgYW5kIG1hY2hpbmUgbGVhcm5pbmc/Cj4gKiAqKkFuc3dlcioqIEJlbiBCYXVtZXIgYXQgU21pdGggcG9zZWQ6ICJJbnN0ZWFkIG9mIG9ic2Vzc2luZyBvdmVyIFZlbm4gZGlhZ3JhbXMgb2Ygd2hhdCB0b3BpY3MgYXJlIHdpdGhpbiB0aGUgZG9tYWlucyBvZiB3aGljaCBkaXNjaXBsaW5lcywgSSBhc2sgaW5zdGVhZCI6IFdoYXQgaWYgd2UgYmxldyB1cCBtYXRoLCBzdGF0cywgQ1MsIGFuZCBhbGwgdGhlaXIgbGVnYWNpZXMgYW5kIHN0YXJ0ZWQgb3Zlcj8gV2hhdCB3b3VsZCB0aGlzIGZpZWxkIGxvb2sgbGlrZS9iZSBjYWxsZWQ/IgoKCiMjIERlZmluaXRpb25zCgoqIEFydGh1ciBTYW11ZWwgKDE5NTkpOiBNYWNoaW5lIGxlYXJuaW5nIGlzIHRoZSBzdWJmaWVsZCBvZiBjb21wdXRlciBzY2llbmNlIHRoYXQgZ2l2ZXMgY29tcHV0ZXJzIHRoZSBhYmlsaXR5IHRvIGxlYXJuIHdpdGhvdXQgYmVpbmcgZXhwbGljaXRseSBwcm9ncmFtbWVkLgoqIEFsYmVydCBZLiBLaW0gKDIwMTcpOiBQcmVkaWN0aW9uLiBFeGFtcGxlczoKICAgICsgW1NlbGYtRHJpdmluZyBWZWhpY2xlc10oaHR0cHM6Ly93d3cud2lyZWQuY29tLzIwMTYvMTAvdWJlcnMtc2VsZi1kcml2aW5nLXRydWNrLW1ha2VzLWZpcnN0LWRlbGl2ZXJ5LTUwMDAwLWJlZXJzLykKICAgICsgW05ldGZsaXhdKGh0dHBzOi8vd3d3Lm5ldGZsaXguY29tL2Jyb3dzZSkgcmVjb21tZW5kYXRpb25zCiAgICArIFNpbXBsZSBsaW5lYXIgcmVncmVzc2lvbiAqZm9yIHByZWRpY3Rpb24qIGFuZCAqbm90IGZvciBleHBsYW5hdGlvbioKCgojIyBTeWxsYWJ1cwoKW1N5bGxhYnVzXShzeWxsYWJ1cy5odG1sKSBkaXNjdXNzaW9uLgoKCiMjIFRvb2xib3g6IGB0aWR5dmVyc2VgCgo8aW1nIHNyYz0iaW1hZ2VzL3RpZHl2ZXJzZS5wbmciIGFsdD0iRHJhd2luZyIgc3R5bGU9IndpZHRoOiA4MDBweDsiLz4KCiAgICAKIyMgU2V0dGluZyB1cCBpbmZyYXN0cnVjdHVyZQoKMS4gSW50cm8gdG8gU2xhY2sKMS4gSW50cm8gdG8gS2FnZ2xlCjEuIEludHJvIHRvIEdpdEh1YgoKCiMjIEludHJvIHRvIFNsYWNrCgoqIFNsYWNrIGlzIGEgbWVkaXVtIGZvciBjb21tdW5pY2F0aW9uIHRoYXQgaGFzIG1hbnkgcHJvcyAoYW5kIHNvbWUgY29ucykKKiBJIHJlcXVpcmUgeW91IHRvIHVzZSBTbGFjayB2aWEgdGhlIFtEZXNrdG9wIEFwcF0oaHR0cHM6Ly9zbGFjay5jb20vZG93bmxvYWRzLykKKiBTdHVkZW50IFtmZWVkYmFja10oaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMVVabWh1dG9jMTdab1dxZjZqWDktbV84RXd2dzZhbVZ1X19YME1NcWxiRVUpCgoKIyMgVGVjaCB0aW1lCgoqIE1ha2Ugc3VyZSB5b3UndmUgY29tcGxldGVkIHRoZSBbaW50cm8gc3VydmV5XShodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9mb3Jtcy9kLzE3dE5ZQjRWcUVmWHZ4dk52SWhWdmI1T21zVGxkWFExOU9kQ1lVeVl6dmwwL2VkaXQpCiogSW5zdGFsbCB0aGUgU2xhY2sgW0Rlc2t0b3AgQXBwXShodHRwczovL3NsYWNrLmNvbS9kb3dubG9hZHMvKQoqIEdpdEh1YgogICAgKyBJZiB5b3UgZG9uJ3QgaGF2ZSBhIFtHaXRIdWIuY29tXShodHRwczovL2dpdGh1Yi5jb20vKSBhY2NvdW50IGFscmVhZHksIGNyZWF0ZSBvbmUuCiAgICArIFVwZGF0ZSB5b3VyIG5hbWUgYW5kIHBvc3QgYSAqcmVjZW50KiBwcm9maWxlIHBpY3R1cmUuCiogVGFrZSBhIGJyZWFrCgoKIyMgU2xhY2sKCjwhLS0KMS4gU2xhY2sgdGVhbQoxLiBTbGFjayBjaGFubmVsCjEuIERpcmVjdCBtZXNzYWdlczogaW5kaXZpZHVhbCwgZ3JvdXAsIHRvIHlvdXJzZWxmCjEuIE1lbnRpb25zCjEuIFNoYXJpbmcgY29kZToKICAgIDEuIGluLWxpbmUgdXNpbmcgYAogICAgMS4gQ29kZSBibG9ja3MgdXNpbmcgYGBgIGFuZCBzaGlmdCtlbnRlcgoxLiBGaWxlIGRyYWcgYW5kIGRyb3AKMS4gRWRpdCBwcm9maWxlCi0tPgoKKiBDaGFsayB0YWxrOiAxLjEgU2xhY2sKKiBFeGVyY2lzZTogCiAgICArIFNlbmQgbWUgeW91ciBHaXRIdWIgbG9naW4gdmlhIGRpcmVjdCBtZXNzYWdlIChETSkKICAgICsgUHJhY3RpY2Ugc2VuZGluZyBncm91cCBETSB3aXRoIHNlYXRtYXRlcwoqIEtleSBmb3IgU2xhY2sgc3VjY2VzczogU2V0dGluZyBub3RpZmljYXRpb25zCgoKIyMgSW50cm8gdG8gS2FnZ2xlCgoqIEJhYnkncyBmaXJzdCBLYWdnbGUgY29tcGV0aXRpb246IFtUaXRhbmljXShodHRwczovL3d3dy5rYWdnbGUuY29tL2MvdGl0YW5pYykKKiBDaGFsayB0YWxrOiAxLjEgS2FnZ2xlCgoKIyMgSW50cm8gdG8gR2l0SHViCgoqIE15IEdpdEh1YiBwcm9maWxlOiBbYHJ1ZGVib3liZXJ0YF0oaHR0cHM6Ly9naXRodWIuY29tL3J1ZGVib3liZXJ0KQoqIEV4YW1wbGU6IGBnZ3Bsb3QyYCBbc291cmNlIGNvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS90aWR5dmVyc2UvZ2dwbG90MikKCgoKCgoKCgoKCgo=</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
